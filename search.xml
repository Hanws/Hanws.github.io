<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>LinuxåŸºç¡€</title>
      <link href="/2022/04/11/Linux%E5%9F%BA%E7%A1%80/"/>
      <url>/2022/04/11/Linux%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Redhatè®¤è¯ç³»åˆ—ä¹‹çº¢å¸½è®¤è¯ç³»ç»Ÿç®¡ç†å‘˜(RHCSA)</title>
      <link href="/2022/04/09/Redhat/"/>
      <url>/2022/04/09/Redhat/</url>
      
        <content type="html"><![CDATA[<h1 id="RHCSAè€ƒè¯•"><a href="#RHCSAè€ƒè¯•" class="headerlink" title="RHCSAè€ƒè¯•"></a>RHCSAè€ƒè¯•</h1><p>RHCSAçš„è€ƒè¯•æ—¶é—´ä¸º3ä¸ªé’Ÿå¤´ï¼Œè€ƒè¯•ç¯å¢ƒæœ‰ä¸¤å°è™šæ‹Ÿæœºï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯8ç‰ˆæœ¬çš„é¢˜ç›®ï¼ŒRHCE8 ç‰ˆæœ¬å’Œä»¥å¾€ç›¸æ¯”å˜åŠ¨æœ‰è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚</p><hr><h2 id="åœ¨node1-net2-example-com-ä¸Šåšé¢˜"><a href="#åœ¨node1-net2-example-com-ä¸Šåšé¢˜" class="headerlink" title="åœ¨node1.net2.example.com ä¸Šåšé¢˜"></a>åœ¨node1.net2.example.com ä¸Šåšé¢˜</h2><h3 id="é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š"><a href="#é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š" class="headerlink" title="é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š"></a>é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š</h3><blockquote><p>ä¸»æœºåï¼šnode1.net2.example.com<br>IPåœ°å€ï¼š172.24.2.10<br>å­ç½‘æ©ç ï¼š255.255.255.0<br>ç½‘å…³ï¼š172.24.2.254<br>åç§°æœåŠ¡å™¨ï¼š172.24.2.254</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hostname <span class="comment"># æŸ¥çœ‹ä¸»æœºåä¸é¢˜ç›®è¦æ±‚ä¸åŒï¼Œç”¨hostnamectlå‘½ä»¤è®¾ç½®å³å¯</span></span><br><span class="line">hostnamectl set-hostname node1.net2.example.com <span class="comment"># è®¾ç½®ä¸ºé¢˜ç›®è¦æ±‚çš„ä¸»æœºå</span></span><br><span class="line">hostname <span class="comment"># éªŒè¯æ˜¯å¦å·²ç»ä¸»æœºåå·²ç»è®¾ç½®ä¸ºé¢˜ç›®è¦æ±‚çš„ä¸»æœºå</span></span><br></pre></td></tr></table></figure><ol><li>tuiå­—ç¬¦ç•Œé¢å›¾å½¢æ¨¡å¼é…ç½®   è¾“å…¥å‘½ä»¤nmtuiå³å¯<img src="https://s1.ax1x.com/2022/04/10/LAitw4.png" alt="LAitw4.png"></li></ol><p>2.è¿›å…¥é…ç½®ç•Œé¢ <img src="https://s1.ax1x.com/2022/04/10/LAkVaQ.png" alt="LAkVaQ.png"><br>Edit a connection:ç¼–è¾‘ä¸€ä¸ªè¿æ¥ï¼Œå¯ä»¥æ·»åŠ æˆ–åˆ é™¤ç½‘ç»œé…ç½®<br>Activate a connection:æ¿€æ´»ä¸€ä¸ªè¿æ¥ï¼Œå¯ä»¥å¯ç”¨æˆ–è€…ç¦ç”¨ç½‘ç»œé…ç½®<br>Set system hostname:è®¾ç½®ç³»ç»Ÿhostname<br>3. é€‰æ‹©ç½‘ç»œæ¥å£ Editç¼–è¾‘<img src="https://s1.ax1x.com/2022/04/10/LAEx54.png" alt="LAEx54.png"><br>4.  å…ˆæŠŠAutomaticæ”¹æˆmanualï¼Œå†æŠŠå…‰æ ‡å®šä½åˆ°showä¸Šé¢å›è½¦é”®[<img src="https://s1.ax1x.com/2022/04/10/LAVURs.png" alt="LAVURs.png"><br>5.  å†è¿›è¡Œç›¸å…³é…ç½®ï¼Œ æ©ç ç›´æ¥åœ¨ IPåœ°å€åé¢æ·»åŠ   ä¸ç„¶é»˜è®¤32ä½çš„ï¼Œé”®ç›˜æ“ä½œï¼šæ¯”å¦‚Adressåé¢çš„SHOWï¼ŒæŠŠå…‰æ ‡å®šä½SHOWå›è½¦å³å¯å‡ºç° IPåœ°å€é…ç½®ï¼Œç„¶åæŠŠ Automatically connect(è‡ªåŠ¨è¿æ¥)å’ŒAvailable to all users(é€‚ç”¨äºæ‰€æœ‰ç”¨æˆ·) ç»™Xä¸Š(æŒ‰ç©ºæ ¼é”®)ï¼Œæœ€åOKå›åˆ°ä¸»ç•Œé¢<img src="https://s1.ax1x.com/2022/04/10/LAZr6I.png" alt="LAZr6I.png"><br>6.  å…‰æ ‡å³ç§»ï¼Œæ‰¾åˆ° Back å›è½¦<img src="https://s1.ax1x.com/2022/04/10/LAZONF.png" alt="LAZONF.png"><br>7.  æœ€å quit é€€å‡º<img src="https://s1.ax1x.com/2022/04/10/LAZx39.png" alt="LAZx39.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection show # æŸ¥çœ‹ç½‘å¡</span><br><span class="line">nmcli connection up â€œä½ çš„ç½‘å¡â€ # æ¿€æ´»ç½‘å¡</span><br><span class="line">ip a # æŸ¥çœ‹ä½ çš„ipåœ°å€æ˜¯å¦è®¾ç½®æˆé¢˜ç›®è¦æ±‚çš„</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/10/LAu62Q.png" alt="LAu62Q.png"></p><h3 id="é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“"><a href="#é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“" class="headerlink" title="é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“:"></a>é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“:</h3><blockquote><p>åœ¨ node1 ä¸»æœºä¸Šé…ç½® yum ä»“åº“ï¼Œå¹¶å¯åŠ¨é»˜è®¤å­˜å‚¨åº“<br>ä»“åº“åœ°å€ï¼š<a href="http://content.example.com/rhel8.2/x86_64/dvd/BaseOS">http://content.example.com/rhel8.2/x86_64/dvd/BaseOS</a> å’Œ<br><a href="http://content.example.com/rhel8.2/x86_64/dvd/AppStream">http://content.example.com/rhel8.2/x86_64/dvd/AppStream</a><br>å°†ä»¥ä¸Šä¸¤ä¸ªå­˜å‚¨åº“é…ç½®ä¸ºç³»ç»Ÿçš„é»˜è®¤å­˜å‚¨åº“ã€‚æ— éœ€æ£€æŸ¥ GPG ç­¾å</p></blockquote><p>è§£é¢˜æ­¥éª¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d <span class="comment"># åˆ‡æ¢åˆ°yumä»“åº“çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">ls</span> <span class="comment"># çœ‹ä¸€çœ‹ç›®å½•ä¸‹é¢æœ‰æ²¡æœ‰æ–‡ä»¶ï¼Œæœ‰æ–‡ä»¶çš„è¯ mv * /home/</span></span><br><span class="line">vim rhcsa.repo <span class="comment"># åªè¦ä»¥repoåç¼€ç»“å°¾çš„å°±å¯ä»¥æˆ‘è¿™é‡Œä»¥rhcsaä¸ºä¾‹å­</span></span><br><span class="line">[baseos]</span><br><span class="line">name=baseos </span><br><span class="line">baseurl=http://content.example.com/rhel8.2/x86_64/dvd/BaseOS (è¿™é‡Œå†™ä»“åº“åœ°å€ï¼Œä»¥å®é™…åœ°å€ä¸ºå‡†)</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0 (æ— éœ€æ£€æŸ¥GPGç­¾å)</span><br><span class="line">[appstream]</span><br><span class="line">name=appstream</span><br><span class="line">baseurl=http://content.example.com/rhel8.2/x86_64/dvd/AppStream (åŒä¸Š)</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0 (æ— éœ€æ£€æŸ¥GPGç­¾å) </span><br></pre></td></tr></table></figure><ul><li><p>ç„¶å ESC SHIFTåŠ å†’å· wqä¿å­˜é€€å‡º</p></li><li><p>é¢˜ç›®éªŒè¯:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum repolist all <span class="comment"># æ˜¾ç¤ºæœ‰ä½ é…ç½®çš„ä¸¤ä¸ªä»“åº“idå’Œä»“åº“åä»¥åŠçŠ¶æ€æ˜¯enabledçš„å°±è¯´æ˜é…ç½®æˆåŠŸ</span></span><br><span class="line">yum list <span class="comment"># æ˜¾ç¤ºè½¯ä»¶åŒ…çš„ä¿¡æ¯ </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/10/LAJlVJ.png" alt="LAJlVJ.png"></p><h3 id="è°ƒè¯•-SELinux"><a href="#è°ƒè¯•-SELinux" class="headerlink" title="è°ƒè¯• SELinux"></a>è°ƒè¯• SELinux</h3><blockquote><p>éæ ‡å‡†ç«¯å£ 82 ä¸Šè¿è¡Œçš„ WEB æœåŠ¡å™¨åœ¨æä¾›å†…å®¹æ—¶é‡åˆ°é—®é¢˜ã€‚æ ¹æ®éœ€è¦è°ƒè¯•å¹¶è§£å†³é—®é¢˜ï¼Œ<br>å¹¶ä½¿å…¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>ç³»ç»Ÿä¸Šçš„ web æœåŠ¡å™¨èƒ½å¤Ÿæä¾› &#x2F;var&#x2F;www&#x2F;html ä¸­æ‰€æœ‰ç°åœ¨æœ‰çš„ html æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šä¸è¦åˆ é™¤æˆ–è€…</li><li>å…¶ä»–æ–¹å¼æ”¹åŠ¨ç°æœ‰çš„æ–‡ä»¶å†…å®¹ï¼‰</li><li>Web æœåŠ¡å™¨é€šè¿‡ 82 ç«¯å£è®¿é—®</li><li>Web æœåŠ¡å™¨åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨</li></ul></blockquote></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd <span class="comment"># ä½¿ç”¨systemctl å‘½ä»¤é‡å¯ httpd.serviceã€‚å‘ç°é‡å¯ httpd æœåŠ¡æŠ¥é”™</span></span><br><span class="line"><span class="comment"># é€šè¿‡ systemctl restart httpd å‘½ä»¤çš„æŠ¥é”™ç»“æœæ¥çœ‹ï¼Œä½¿ç”¨ systemctl status httpd å’Œ journalctl -xe å‘½ä»¤å¯ä»¥æŸ¥è¯¢æŠ¥é”™çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">journalctl -xe </span><br><span class="line"><span class="comment"># é€šè¿‡æŸ¥è¯¢ä¿¡æ¯å¾—å‡ºï¼Œä½¿ç”¨ semanage port -a -t PORT_TYPE -p tcp 82 å¯ä»¥è§£å†³æŠ¥é”™</span></span><br><span class="line">semanage port -l | grep http <span class="comment"># ä½¿ç”¨ semanage å‘½ä»¤æŸ¥æ‰¾é€‚åˆç«¯å£ 82/TCP çš„ç«¯å£ç±»å‹</span></span><br><span class="line">semanage port -a -t http_port_t -p tcp 82 <span class="comment"># ä½¿ç”¨ semanage å‘½ä»¤ä¸ºç«¯å£ 82/TCP åˆ†é… http_port_t ç±»å‹</span></span><br><span class="line">systemctl restart httpd <span class="comment"># ä½¿ç”¨ systemctl å‘½ä»¤é‡å¯ httpd.service æœåŠ¡ã€‚æ­¤å‘½ä»¤åº”è¯¥ä¼šæˆåŠŸ</span></span><br><span class="line">systemctl status httpd <span class="comment"># æŸ¥è¯¢ httpd æœåŠ¡çŠ¶æ€</span></span><br><span class="line">curl 172.24.2.10:82 <span class="comment"># æ£€æŸ¥ä½ ç°åœ¨æ˜¯å¦å¯ä»¥è®¿é—®åœ¨ç«¯å£ 82/TCP ä¸Šè¿è¡Œçš„ Web æœåŠ¡å™¨ã€‚ä½¿ç”¨ curl å‘½ä»¤ä» node1 è®¿é—®Web æœåŠ¡</span></span><br><span class="line">firewall-cmd --permanent --add-port=82/tcp <span class="comment"># åœ¨node1ä¸Šï¼Œæ‰“å¼€é˜²ç«å¢™ä¸Šçš„ç«¯å£ 82/TCPï¼Œä½¿ç”¨ firewall-cmd å‘½ä»¤ï¼Œåœ¨ node1 çš„é˜²ç«å¢™é»˜è®¤åŒºåŸŸçš„æ°¸ä¹…é…ç½®ä¸­æ‰“å¼€ç«¯å£ 82/TCP</span></span><br><span class="line">firewall-cmd --reload <span class="comment"># åœ¨ node1 ä¸Šæ¿€æ´»é˜²ç«å¢™æ›´æ”¹</span></span><br><span class="line">æœ€ååœ¨node2å’Œç‰©ç†æœºåˆ†åˆ«curlä¸€ä¸‹è®¿é—®webæœåŠ¡ï¼ŒéªŒè¯èƒ½ä¸èƒ½è®¿é—®æˆåŠŸ</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·"><a href="#åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·"></a>åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·</h3><blockquote><p>åˆ›å»ºä¸‹åˆ—ç”¨æˆ·ã€ç”¨æˆ·ç»„ï¼Œå¹¶æŒ‰è¦æ±‚å®Œæˆè®¾ç½®ï¼š</p><ul><li>åˆ›å»ºåä¸º sysmgrs çš„é˜»</li><li>åˆ›å»ºç”¨æˆ· natashaï¼Œå…¶ä½œä¸ºæ¬¡è¦ç»„ä»å±äº sysmgrs</li><li>åˆ›å»ºç”¨æˆ· harryï¼Œå…¶ä½œä¸ºæ¬¡è¦ç»„ä»å±äº sysmgrs</li><li>åˆ›å»ºç”¨æˆ· sarah ï¼Œå…¶æ— æƒè®¿é—®ç³»ç»Ÿä¸Šçš„äº¤äº’å¼ shellï¼Œä¸”ä¸æ˜¯ sysmgrs ç»„çš„æˆå‘˜</li><li>natashaã€harryã€sarah çš„å¯†ç æ˜¯ ablerate</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">groupadd sysmgrs <span class="comment"># åˆ›å»ºsysmgrsç»„</span></span><br><span class="line">useradd -G sysmgrs natasha <span class="comment"># åˆ›å»º natashaç”¨æˆ·,å¹¶è®¾ç½®é™„å±ç»„ä¸º sysmgrs</span></span><br><span class="line">useradd -G sysmgrs harry <span class="comment"># åˆ›å»ºç”¨æˆ·harryï¼Œå¹¶è®¾ç½®é™„å±ç»„ä¸ºsysmgrs</span></span><br><span class="line">useradd -s /sbin/nologin sarah <span class="comment"># åˆ›å»ºç”¨æˆ·sarah,å¹¶æ‰§è¡Œshellç±»å‹ä¸º/sbin/nologin</span></span><br><span class="line"><span class="built_in">echo</span> ablerate | passwd --stdin natasha <span class="comment"># è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br><span class="line"><span class="built_in">echo</span> ablerate | passwd --stdin harry <span class="comment"># è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br><span class="line"><span class="built_in">echo</span> ablerate | passwd --stdin sarah <span class="comment"># è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®-cron-ä½œä¸š"><a href="#é…ç½®-cron-ä½œä¸š" class="headerlink" title="é…ç½® cron ä½œä¸š"></a>é…ç½® cron ä½œä¸š</h3><blockquote><p>é…ç½® cron ä½œä¸šï¼Œè¯¥ä½œä¸šæ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šlogger â€œhello rhcsaâ€ï¼Œä»¥ç”¨æˆ·natashaèº«ä»½è¡Œ<br>é…ç½® cron ä½œä¸šï¼Œè¯¥ä½œä¸šæ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šlogger â€œhello rhcsaâ€ï¼Œä»¥ç”¨æˆ·natashaèº«ä»½è¡Œ<br>é…ç½® cron ä½œä¸šï¼Œæ¯å¤©çš„ 14:23 åˆ†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šlogger â€œhello rhcsaâ€ï¼Œä»¥ç”¨æˆ·natashaèº«ä»½è¿è¡Œ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">crontab -e -u natasha (ä»¥natashaç”¨æˆ·çš„èº«ä»½å»ç¼–è¾‘cronä½œä¸š)</span><br><span class="line"><span class="comment"># */2 * * * * logger &quot;hello rhcsa&quot; (æ¯éš”ä¸¤åˆ†é’Ÿæ‰§è¡Œ) </span></span><br><span class="line"><span class="comment"># */1 * * * * logger &quot;hello rhcsa&quot; (æ¯éš”ä¸€åˆ†é’Ÿæ‰§è¡Œ)</span></span><br><span class="line"><span class="comment"># 23 14 * * * logger &quot;hello rhcsa&quot; (æ¯å¤©çš„14ç‚¹23åˆ†æ‰§è¡Œ)</span></span><br><span class="line"><span class="comment"># * * * * * å¯¹åº”çš„æ˜¯ åˆ† æ—¶ æ—¥ æœˆ å‘¨</span></span><br><span class="line">crontab -l -u natasha <span class="comment"># éªŒè¯æ˜¯å¦æœ‰é¢˜ç›®ä¸­è¦æ±‚çš„cronä½œä¸š</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/11/LZ9m59.png" alt="LZ9m59.png"></p><h3 id="åˆ›å»ºåä½œç›®å½•"><a href="#åˆ›å»ºåä½œç›®å½•" class="headerlink" title="åˆ›å»ºåä½œç›®å½•"></a>åˆ›å»ºåä½œç›®å½•</h3><blockquote><p>åˆ›å»ºå…·æœ‰ä»¥ä¸‹ç‰¹å¾çš„åä½œç›®å½• &#x2F;home&#x2F;managers è¦æ±‚å¦‚ä¸‹:</p><ul><li>&#x2F;home&#x2F;managers çš„ç»„ç”¨æƒæ˜¯ sysmgrs</li><li>ç›®å½•åº”å½“å¯è¢« sysmgrs çš„æˆå‘˜è¯»å–ã€‚å†™å…¥å’Œè®¿é—®ï¼Œä½†ä»»ä½•å…¶ä»–ç”¨æˆ·ä¸å…·è¿™äº›æƒé™ã€‚ï¼ˆå½“ç„¶ï¼Œroot      ç”¨æˆ·æœ‰æƒè®¿é—®ç³»ç»Ÿä¸Šçš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ï¼‰</li><li>&#x2F;home&#x2F;managers ä¸­åˆ›å»ºçš„æ–‡ä»¶è‡ªåŠ¨å°†ç»„æ‰€æœ‰æƒè®¾ç½®åˆ° sysmgrs ç»„</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /home/managers <span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="built_in">chgrp</span> sysmgrs /home/managers <span class="comment"># è®¾ç½®/home/managersæ‰€æœ‰ç»„ä¸ºsysmgrsç»„</span></span><br><span class="line"><span class="built_in">chmod</span> g+s /home/managers <span class="comment"># ç»™ç›®å½•å¢åŠ ç‰¹æ®Šæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> u=rwx,g=rwx,o=--- /home/managers <span class="comment"># è®¾ç½®æ‰€æœ‰è€…ã€æ‰€å±ç»„ã€å…¶ä»–ç”¨æˆ·çš„æƒé™</span></span><br><span class="line"><span class="built_in">touch</span> /home/managers/file1 </span><br><span class="line">ll /home/managers/file1 </span><br><span class="line"><span class="comment"># ä½¿ç”¨rootç”¨æˆ·åœ¨ /home/managers ç›®å½•ä¸‹åˆ›å»ºfile1æ–‡ä»¶ï¼Œå› ä¸º /home/managers æ·»åŠ äº† sgid ç‰¹æ®Šæƒé™ï¼Œæ‰€ä»¥ è™½ç„¶æ˜¯rootç”¨æˆ·åˆ›å»ºçš„file1ï¼Œä½†æ˜¯file1çš„æ‰€å±ç»„å¹¶ä¸æ˜¯rootç»„ï¼Œè€Œæ˜¯ç»§æ‰¿äº†/home/managersç›®å½•ï¼Œæ‰€å±ç»„ä¸ºsysmgrsç»„</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®NTP-æ—¶é—´åŒæ­¥"><a href="#é…ç½®NTP-æ—¶é—´åŒæ­¥" class="headerlink" title="é…ç½®NTP æ—¶é—´åŒæ­¥"></a>é…ç½®NTP æ—¶é—´åŒæ­¥</h3><blockquote><p>é…ç½®æ‚¨çš„ç³»ç»Ÿä½¿å…¶æˆä¸ºmaterials.example.comçš„NTPå®¢æˆ·ç«¯ã€‚(æ³¨:materials.example.comæ˜¯classroom.example.com çš„ DNS åˆ«å)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">timedatectl <span class="comment"># æŸ¥çœ‹å½“å‰æ—¶é—´åŒæ­¥ä¿¡æ¯</span></span><br><span class="line">systemctl status chronyd <span class="comment"># æŸ¥çœ‹æ—¶é—´åŒæ­¥æœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl start chronyd <span class="comment"># å¯åŠ¨æ—¶é—´åŒæ­¥æœåŠ¡</span></span><br><span class="line">systemctl <span class="built_in">enable</span> chronyd <span class="comment"># ä¸”è®¾ç½®æˆå¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">vim /etc/chrony.conf <span class="comment"># ç¼–è¾‘ /etc/chrony.conf æ–‡ä»¶ï¼Œå°† materials.example.com æœåŠ¡å™¨æŒ‡å®šä¸ºNTPæ—¶é—´æº</span></span><br><span class="line"><span class="comment"># æ·»åŠ server materials.example.com iburst åŒ…æ‹¬å¯åŠ å¿«åˆå§‹æ—¶é—´åŒæ­¥çš„ iburst é€‰é¡¹</span></span><br><span class="line">systemctl restart chronyd <span class="comment"># é‡å¯æ—¶é—´åŒæ­¥æœåŠ¡ï¼Œä½¿å‚æ•°ç”Ÿæ•ˆ</span></span><br><span class="line">timedatectl <span class="comment"># éªŒè¯,å¦‚ä¸‹å›¾åˆ’çº¿çš„yeså’Œactiveä¸€å®šè¦éƒ½æœ‰</span></span><br><span class="line">chronyc sources -v <span class="comment"># éªŒè¯é…ç½®å‚æ•°æ˜¯å¦æ­£ç¡®</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/11/LZAkK1.png" alt="LZAkK1.png"><br><img src="https://s1.ax1x.com/2022/04/11/LZAcIU.png" alt="LZAcIU.png"><br><img src="https://s1.ax1x.com/2022/04/11/LZVs4U.png" alt="LZVs4U.png"></p><h3 id="é…ç½®-autofs"><a href="#é…ç½®-autofs" class="headerlink" title="é…ç½® autofs"></a>é…ç½® autofs</h3><blockquote><p>é…ç½® autofs ï¼Œä»¥æŒ‰ç…§å¦‚ä¸‹æ‰€è¿°è‡ªåŠ¨æŒ‚è½½è¿œç¨‹ç”¨æˆ·çš„ä¸»ç›®å½•:</p><ul><li>materials.example.com ( 172.24.2.10 ) NFS å¯¼å‡º &#x2F;rhome åˆ°æ‚¨çš„ç³»ç»Ÿã€‚æ­¤æ–‡ä»¶ç³»ç»ŸåŒ…å«ä¸ºç”¨æˆ· remoteuser1 é¢„é…ç½®çš„ä¸»ç›®å½•.</li><li>remoteuser1 çš„ä¸»ç›®å½•æ˜¯ materials.example.com:&#x2F;rhome&#x2F;remoteuser1 </li><li>remoteuser1 çš„ä¸»ç›®å½•åº”è‡ªåŠ¨æŒ‚è½½åˆ°æœ¬åœ° &#x2F;rhome ä¸‹çš„ &#x2F;rhome&#x2F;remoteuser1</li><li>ä¸»ç›®å½•å¿…é¡»å¯ä¾›å…¶ç”¨æˆ·å†™å…¥</li><li>remoteuser1 çš„å¯†ç æ˜¯ ablerate</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum -y install autofs <span class="comment"># å®‰è£…autofsè½¯ä»¶åŒ…</span></span><br><span class="line">systemctl start autofs <span class="comment"># å¯åŠ¨antofsæœåŠ¡</span></span><br><span class="line">systemctl <span class="built_in">enable</span> autofs <span class="comment"># è®¾ç½®æˆå¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">systemctl status autofs <span class="comment"># æŸ¥çœ‹ä¸€ä¸‹çŠ¶æ€</span></span><br><span class="line">vim /etc/auto.master <span class="comment"># ç¼–è¾‘/etc/auto.masterçš„æ˜ å°„æ–‡ä»¶ </span></span><br><span class="line"><span class="comment"># æ·»åŠ /rhome /etc/auto.hzh auto.åé¢å¯ä»¥è‡ªå·±å®šä¹‰</span></span><br><span class="line">vim /etc/auto.hzh <span class="comment"># åˆ›å»ºä¸€ä¸ªåä¸º /etc/auto.hzh çš„æ˜ å°„æ–‡ä»¶ </span></span><br><span class="line"><span class="comment"># æ·»åŠ remoteuser1 -fstype=nfs4,rw materials.example.com:/rhome/remoteuser1</span></span><br><span class="line">systemctl restart autofs <span class="comment"># é‡æ–°å¯åŠ¨autofsæœåŠ¡</span></span><br><span class="line">su - remoteuser1 <span class="comment"># éªŒè¯</span></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ° remoteuser1 ç”¨æˆ· df -TH çœ‹ä¸€çœ‹æ˜¯ä¸æ˜¯æˆåŠŸæŒ‚è½½ </span></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/04/11/LZ8WKf.png" alt="LZ8WKf.png"><br><img src="https://s1.ax1x.com/2022/04/11/LZ8hqS.png" alt="LZ8hqS.png"><br>åˆ‡æ¢åˆ°remoteuser1ç”¨æˆ·ç„¶åéªŒè¯æ˜¯å¦æŒ‚è½½æˆåŠŸ<img src="https://s1.ax1x.com/2022/04/11/LZ8lbF.png" alt="LZ8lbF.png"></p><h3 id="node1-ä¸Šé…ç½®æ–‡ä»¶æƒé™"><a href="#node1-ä¸Šé…ç½®æ–‡ä»¶æƒé™" class="headerlink" title="node1 ä¸Šé…ç½®æ–‡ä»¶æƒé™"></a>node1 ä¸Šé…ç½®æ–‡ä»¶æƒé™</h3><blockquote><p>å°†æ–‡ä»¶ &#x2F;etc&#x2F;fstab å¤åˆ¶åˆ° &#x2F;var&#x2F;tmp&#x2F;fstab ã€‚é…ç½® &#x2F;var&#x2F;tmp&#x2F;fstab çš„æƒé™ä»¥æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><ul><li>æ–‡ä»¶ &#x2F;var&#x2F;tmp&#x2F;fstab æ‰€æœ‰è€…ä¸ºroot</li><li>æ–‡ä»¶ &#x2F;var&#x2F;tmp&#x2F;fstab æ‰€å±ç»„ä¸ºroot </li><li>æ–‡ä»¶ &#x2F;var&#x2F;tmp&#x2F;fstab åº”ä¸èƒ½è¢«ä»»ä½•äººæ‰§è¡Œ</li><li>ç”¨æˆ· natasha èƒ½å¤Ÿè¯»å–å’Œå†™å…¥ &#x2F;var&#x2F;tmp&#x2F;fstab  </li><li>ç”¨æˆ· harry æ— æ³•å†™å…¥æˆ–è¯»å– &#x2F;var&#x2F;tmp&#x2F;fstab</li><li>æ‰€æœ‰å…¶ä»–ç”¨æˆ·ï¼ˆå½“å‰æˆ–æœªæ¥ï¼‰èƒ½å¤Ÿè¯»å– &#x2F;var&#x2F;tmp&#x2F;fstab</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -av /etc/fstab /var/tmp/fstab</span><br><span class="line">setfacl -m u:natasha:rw- /var/tmp/fstab</span><br><span class="line">setfacl -m u:harry:--- /var/tmp/fstab</span><br><span class="line"><span class="comment"># è®¾ç½®ç‰¹æ®Šæƒé™ /var/tmp/fstab</span></span><br><span class="line">getfacl /var/tmp/fstab <span class="comment"># éªŒè¯æƒé™</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ç”¨æˆ·å¸æˆ·"><a href="#é…ç½®ç”¨æˆ·å¸æˆ·" class="headerlink" title="é…ç½®ç”¨æˆ·å¸æˆ·"></a>é…ç½®ç”¨æˆ·å¸æˆ·</h3><blockquote><p>åˆ›å»ºç”¨æˆ·è´¦æˆ· alexï¼Œç”¨æˆ·çš„ ID ä¸º 1234ï¼Œæ­¤ç”¨æˆ·çš„å¯†ç åº”å½“ä¸º thuctive</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -u 1234 alex <span class="comment"># åˆ›å»ºç”¨æˆ·alexå¹¶è®¾ç½®ç”¨æˆ·çš„IDä¸º1234</span></span><br><span class="line"><span class="built_in">echo</span> thuctive | passwd --stdin alex <span class="comment"># è®¾ç½®å¯†ç </span></span><br><span class="line"><span class="built_in">id</span> alex <span class="comment"># éªŒè¯ä¸€ä¸‹</span></span><br></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾æ–‡ä»¶"><a href="#æŸ¥æ‰¾æ–‡ä»¶" class="headerlink" title="æŸ¥æ‰¾æ–‡ä»¶"></a>æŸ¥æ‰¾æ–‡ä»¶</h3><blockquote><p>æŸ¥æ‰¾å½“ jacques æ‰€æœ‰çš„æ‰€æœ‰æ–‡ä»¶å¹¶å°†å…¶å‰¯æœ¬æ”¾å…¥ &#x2F;root&#x2F;findfiles ç›®å½•</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">mkdir</span> /root/findfiles <span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line"> find / -user jacques -<span class="built_in">exec</span> <span class="built_in">cp</span> -avp &#123;&#125; /root/findfiles/ \;</span><br><span class="line"> <span class="comment"># æŸ¥æ‰¾ç”¨æˆ·jacquesç”¨æˆ·çš„æ–‡ä»¶ï¼Œå¹¶æ‹·è´åˆ° /root/findfiles ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /root/findfiles <span class="comment"># åˆ‡æ¢åˆ°ç›®å½•çœ‹ä¸€çœ‹æœ‰æ²¡æœ‰æ‰€å±jacquesçš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å“ˆå“ˆğŸ‘‹ğŸ»</title>
      <link href="/2022/04/09/%E5%93%88%E5%93%88/"/>
      <url>/2022/04/09/%E5%93%88%E5%93%88/</url>
      
        <content type="html"><![CDATA[<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯HanwsğŸ˜‚,ä½ ä»¬å¯èƒ½æ˜¯é€šè¿‡æˆ‘çš„ç½‘å [è¢«é©´è¸¢è¿‡çš„è„‘è¢‹è¿˜å¥½ä½¿å—] è®¤è¯†æˆ‘çš„ï¼Œæˆ‘çš„ç‰¹ç‚¹æœ‰:</p><ul><li>ç†æƒ³ä¸»ä¹‰</li><li>æœ‰ç‚¹åŠªåŠ›</li><li>ä¼šç‚¹æŠ€æœ¯</li><li>æ¥å—è¿‡ä¹‰åŠ¡æ•™è‚²çš„ä¹‰åŠ¡æ•™è‚²æ¼ç½‘ä¹‹é±¼</li><li>LSP</li></ul><p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¼€å§‹å†™åšå®¢ï¼Œä¹‹å‰æœ‰è¿™ä¸ªæƒ³æ³•ä½†æ˜¯ä¸€ç›´æ²¡æœ‰å®æ–½ï¼Œè¿™ä¸ªåšå®¢æ˜¯ç”±<a href="https://hexo.io/">Hexo</a>æ­å»ºå‡ºæ¥çš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€å•ã€å¼ºå¤§çš„åšå®¢æ¡†æ¶ã€‚</p><p>ä¸ºä»€ä¹ˆéè¦å†™åšå®¢ï¼Ÿå”‰ï¼Œå°±æ˜¯ç©ï¼ğŸ˜…  å¤§æ¦‚æ˜¯å› ä¸ºè¿™æ ·:</p><blockquote><p>æˆ‘ä¸æ˜¯ç¨‹åºå‘˜ï¼Œä¹Ÿä¸æ˜¯è®¾è®¡å¸ˆï¼Œæˆ‘åªæ˜¯æ°å¥½æœ‰ä¸€äº›æƒ³æ³•å’Œä¸€å°ç”µè„‘ã€‚</p></blockquote><p>æ²¡é”™å°±æ˜¯ğŸ§ é‡Œç»å¸¸äº§ç”Ÿæƒ³æ³•ï¼Œæ— è®ºæ˜¯æŠ€æœ¯çš„è¿˜æ˜¯ç”Ÿæ´»çš„ï¼Œä¹Ÿæ— è®ºæ˜¯ç†Ÿæ‚‰çš„é¢†åŸŸè¿˜æ˜¯ï¼Œä¸ç†Ÿæ‚‰çš„é¢†åŸŸçš„ï¼Œæ—¶é—´ä¹…äº†ï¼Œæœ‰äº›æƒ³æ³•è¿˜æ˜¯ä¼šé‡å¤å‡ºç°ï¼Œæ‰€ä»¥å°è¯•ç€å°†è¿™äº›æƒ³æ³•è®°å½•ä¸‹æ¥ï¼Œå¯èƒ½æ˜¯ä¸€ç§è§£è„±ã€‚ä¸è¿‡ï¼Œä»¥åæˆ‘ä¼šç»å¸¸æ¥è®°å½•ä¸€äº›æŠ€æœ¯å­¦ä¹ æ€»ç»“ï¼Œä»¥åŠæˆ‘è‡ªå·±çš„ä¸€äº›æ€è€ƒï¼Œå°åˆ°æŠ€æœ¯å¤§åˆ°å®‡å®™ã€‚</p><hr><p>å¸Œæœ›å¤§ä½¬è½»ç‚¹å–·ğŸ˜£</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
