<!DOCTYPE html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>Redhat认证系列之红帽认证系统管理员(RHCSA) | 被驴踢过的脑袋还好使吗</title><meta name=author content=Hanws汉斯><meta name=copyright content=Hanws汉斯><link rel="shortcut icon" href=https://i04piccdn.sogoucdn.com/a88bd978e0e3c35f><meta name=keywords content=Linux><meta name=description content="RHCSA考试RHCSA的考试时间为3个钟头，考试环境有两台虚拟机，我这里用的是8版本的题目，RHCE8 版本和以往相比变动有还是比较大的。  在node1.net2.example.com 上做题配置node1主机信息，使其具有以下网络配置： 主机名：node1.net2.example.comIP地址：172.24.2.10子网掩码：255.255.255.0网关：172.24.2.254名称"><meta property=og:type content=article><meta property=og:title content=Redhat认证系列之红帽认证系统管理员(RHCSA)><meta property=og:url content=https://www.hzh.best/2022/04/09/Redhat/ ><meta property=og:site_name content=被驴踢过的脑袋还好使吗><meta property=og:description content="RHCSA考试RHCSA的考试时间为3个钟头，考试环境有两台虚拟机，我这里用的是8版本的题目，RHCE8 版本和以往相比变动有还是比较大的。  在node1.net2.example.com 上做题配置node1主机信息，使其具有以下网络配置： 主机名：node1.net2.example.comIP地址：172.24.2.10子网掩码：255.255.255.0网关：172.24.2.254名称"><meta property=og:locale content=zh_CN><meta property=og:image content=https://i04piccdn.sogoucdn.com/a88bd978e0e3c35f><meta property=article:published_time content=2022-04-09T15:23:37.604Z><meta property=article:modified_time content=2022-04-12T08:07:39.780Z><meta property=article:author content=Hanws汉斯><meta property=article:tag content=Linux><meta name=twitter:card content=summary><meta name=twitter:image content=https://i04piccdn.sogoucdn.com/a88bd978e0e3c35f><meta http-equiv=Cache-Control content=no-siteapp><link href=https://cdn.jsdelivr.net rel=preconnect><link href=https://www.hzh.best rel=prefetch><link href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><script src=/js/utlis.js></script><script>!function(){var t=$query("html");"true"===localStorage.isDark?t.setAttribute("theme","dark"):t.removeAttribute("theme")}()</script><meta name=generator content="Hexo 6.1.0"></head><body><script>var $config={CDN:{fancyboxJs:"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.26/dist/fancybox.umd.js",fancyboxCss:"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.26/dist/fancybox.css"},searchFile:"/search.xml",codeBlockExpand:{enable:!0,height:400,scrollTop:200}}</script><div id=body-wrap><nav id=nav-wrap><div class=navbar><div class=bar><a href=/ class=title>被驴踢过的脑袋还好使吗</a> <i class="fas fa-search search-btn"></i><ul class=menu><li><a href=/ >首页</a></li><li><a class=menu-child-hover href=javascript:void(0);>找文章</a><ul class=menu-child><li><a href=/tags>标签</a></li><li><a href=/categories>分类</a></li><li><a href=/archives>归档</a></li></ul></li><li><a href=/link>友情链接</a></li><li><a href=/about>关于我</a></li></ul><i class="fas fa-bars open-nav"></i></div></div><div id=mobile-nav><ul><li><a href=/ >首页</a></li><li><a href=/tags>标签</a></li><li><a href=/categories>分类</a></li><li><a href=/archives>归档</a></li><li><a href=/link>友情链接</a></li><li><a href=/about>关于我</a></li></ul></div></nav><main id=main><article id=post><div class=post-info><div class=post-title><h1>Redhat认证系列之红帽认证系统管理员(RHCSA)</h1></div><div class=post-meta><div class=post-date><i class="far fa-calendar-alt fa-fw post-meta-icon"></i> <span class=post-meta-label>发表于 2022-04-09 | </span><i class="fas fa-history fa-fw post-meta-icon"></i> <span class=post-meta-label>更新于 2022-04-12</span></div><div class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i> <span class=post-meta-label>总字数:</span> <span class=word-count>2.8k | </span><i class="far fa-clock fa-fw post-meta-icon"></i> <span class=post-meta-label>阅读时长:</span> <span>11分钟</span></div></div></div><div class=post-content><h1 id=RHCSA考试><a href=#RHCSA考试 class=headerlink title=RHCSA考试></a>RHCSA考试</h1><p>RHCSA的考试时间为3个钟头，考试环境有两台虚拟机，我这里用的是8版本的题目，RHCE8 版本和以往相比变动有还是比较大的。</p><hr><h2 id=在node1-net2-example-com-上做题><a href=#在node1-net2-example-com-上做题 class=headerlink title="在node1.net2.example.com 上做题"></a>在node1.net2.example.com 上做题</h2><h3 id=配置node1主机信息，使其具有以下网络配置：><a href=#配置node1主机信息，使其具有以下网络配置： class=headerlink title=配置node1主机信息，使其具有以下网络配置：></a>配置node1主机信息，使其具有以下网络配置：</h3><blockquote><p>主机名：node1.net2.example.com<br>IP地址：172.24.2.10<br>子网掩码：255.255.255.0<br>网关：172.24.2.254<br>名称服务器：172.24.2.254</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>hostname <span class=comment># 查看主机名与题目要求不同，用hostnamectl命令设置即可</span></span><br><span class=line>hostnamectl set-hostname node1.net2.example.com <span class=comment># 设置为题目要求的主机名</span></span><br><span class=line>hostname <span class=comment># 验证是否已经主机名已经设置为题目要求的主机名</span></span><br></pre></td></tr></table></figure><ol><li>tui字符界面图形模式配置 输入命令nmtui即可<img src=https://s1.ax1x.com/2022/04/10/LAitw4.png alt=LAitw4.png></li></ol><p>2.进入配置界面 <img src=https://s1.ax1x.com/2022/04/10/LAkVaQ.png alt=LAkVaQ.png><br>Edit a connection:编辑一个连接，可以添加或删除网络配置<br>Activate a connection:激活一个连接，可以启用或者禁用网络配置<br>Set system hostname:设置系统hostname<br>3. 选择网络接口 Edit编辑<img src=https://s1.ax1x.com/2022/04/10/LAEx54.png alt=LAEx54.png><br>4. 先把Automatic改成manual，再把光标定位到show上面回车键[<img src=https://s1.ax1x.com/2022/04/10/LAVURs.png alt=LAVURs.png><br>5. 再进行相关配置， 掩码直接在 IP地址后面添加 不然默认32位的，键盘操作：比如Adress后面的SHOW，把光标定位SHOW回车即可出现 IP地址配置，然后把 Automatically connect(自动连接)和Available to all users(适用于所有用户) 给X上(按空格键)，最后OK回到主界面<img src=https://s1.ax1x.com/2022/04/10/LAZr6I.png alt=LAZr6I.png><br>6. 光标右移，找到 Back 回车<img src=https://s1.ax1x.com/2022/04/10/LAZONF.png alt=LAZONF.png><br>7. 最后 quit 退出<img src=https://s1.ax1x.com/2022/04/10/LAZx39.png alt=LAZx39.png></p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>nmcli connection show <span class=comment># 查看网卡</span></span><br><span class=line>nmcli connection up “你的网卡” <span class=comment># 激活网卡</span></span><br><span class=line>ip a <span class=comment># 查看你的ip地址是否设置成题目要求的</span></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/10/LAu62Q.png alt=LAu62Q.png></p><h3 id=配置你的系统以使用默认存储库><a href=#配置你的系统以使用默认存储库 class=headerlink title=配置你的系统以使用默认存储库:></a>配置你的系统以使用默认存储库:</h3><blockquote><p>在 node1 主机上配置 yum 仓库，并启动默认存储库<br>仓库地址：<a target=_blank rel=noopener href=http://content.example.com/rhel8.2/x86_64/dvd/BaseOS>http://content.example.com/rhel8.2/x86_64/dvd/BaseOS</a> 和<br><a target=_blank rel=noopener href=http://content.example.com/rhel8.2/x86_64/dvd/AppStream>http://content.example.com/rhel8.2/x86_64/dvd/AppStream</a><br>将以上两个存储库配置为系统的默认存储库。无需检查 GPG 签名</p></blockquote><p>解题步骤：</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cd</span> /etc/yum.repos.d <span class=comment># 切换到yum仓库的配置文件</span></span><br><span class=line><span class=built_in>ls</span> <span class=comment># 看一看目录下面有没有文件，有文件的话 mv * /home/</span></span><br><span class=line>vim rhcsa.repo <span class=comment># 只要以repo后缀结尾的就可以我这里以rhcsa为例子</span></span><br><span class=line>[baseos]</span><br><span class=line>name=baseos </span><br><span class=line>baseurl=http://content.example.com/rhel8.2/x86_64/dvd/BaseOS (这里写仓库地址，以实际地址为准)</span><br><span class=line>enabled=1</span><br><span class=line>gpgcheck=0 (无需检查GPG签名)</span><br><span class=line>[appstream]</span><br><span class=line>name=appstream</span><br><span class=line>baseurl=http://content.example.com/rhel8.2/x86_64/dvd/AppStream (同上)</span><br><span class=line>enabled=1</span><br><span class=line>gpgcheck=0 (无需检查GPG签名) </span><br></pre></td></tr></table></figure><ul><li><p>然后 ESC SHIFT加冒号 wq保存退出</p></li><li><p>题目验证:</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>yum repolist all <span class=comment># 显示有你配置的两个仓库id和仓库名以及状态是enabled的就说明配置成功</span></span><br><span class=line>yum list <span class=comment># 显示软件包的信息 </span></span><br><span class=line></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/10/LAJlVJ.png alt=LAJlVJ.png></p><h3 id=调试-SELinux><a href=#调试-SELinux class=headerlink title="调试 SELinux"></a>调试 SELinux</h3><blockquote><p>非标准端口 82 上运行的 WEB 服务器在提供内容时遇到问题。根据需要调试并解决问题，<br>并使其满足以下条件：</p><ul><li>系统上的 web 服务器能够提供 &#x2F;var&#x2F;www&#x2F;html 中所有现在有的 html 文件（注意：不要删除或者</li><li>其他方式改动现有的文件内容）</li><li>Web 服务器通过 82 端口访问</li><li>Web 服务器在系统启动时自动启动</li></ul></blockquote></li></ul><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line>systemctl restart httpd <span class=comment># 使用systemctl 命令重启 httpd.service。发现重启 httpd 服务报错</span></span><br><span class=line><span class=comment># 通过 systemctl restart httpd 命令的报错结果来看，使用 systemctl status httpd 和 journalctl -xe 命令可以查询报错的详细信息</span></span><br><span class=line>journalctl -xe </span><br><span class=line><span class=comment># 通过查询信息得出，使用 semanage port -a -t PORT_TYPE -p tcp 82 可以解决报错</span></span><br><span class=line>semanage port -l | grep http <span class=comment># 使用 semanage 命令查找适合端口 82/TCP 的端口类型</span></span><br><span class=line>semanage port -a -t http_port_t -p tcp 82 <span class=comment># 使用 semanage 命令为端口 82/TCP 分配 http_port_t 类型</span></span><br><span class=line>systemctl restart httpd <span class=comment># 使用 systemctl 命令重启 httpd.service 服务。此命令应该会成功</span></span><br><span class=line>systemctl status httpd <span class=comment># 查询 httpd 服务状态</span></span><br><span class=line>curl 172.24.2.10:82 <span class=comment># 检查你现在是否可以访问在端口 82/TCP 上运行的 Web 服务器。使用 curl 命令从 node1 访问Web 服务</span></span><br><span class=line>firewall-cmd --permanent --add-port=82/tcp <span class=comment># 在node1上，打开防火墙上的端口 82/TCP，使用 firewall-cmd 命令，在 node1 的防火墙默认区域的永久配置中打开端口 82/TCP</span></span><br><span class=line>firewall-cmd --reload <span class=comment># 在 node1 上激活防火墙更改</span></span><br><span class=line>最后在node2和物理机分别curl一下访问web服务，验证能不能访问成功</span><br></pre></td></tr></table></figure><h3 id=创建用户账户和配置用户账户><a href=#创建用户账户和配置用户账户 class=headerlink title=创建用户账户和配置用户账户></a>创建用户账户和配置用户账户</h3><blockquote><p>创建下列用户、用户组，并按要求完成设置：</p><ul><li>创建名为 sysmgrs 的阻</li><li>创建用户 natasha，其作为次要组从属于 sysmgrs</li><li>创建用户 harry，其作为次要组从属于 sysmgrs</li><li>创建用户 sarah ，其无权访问系统上的交互式 shell，且不是 sysmgrs 组的成员</li><li>natasha、harry、sarah 的密码是 ablerate</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>groupadd sysmgrs <span class=comment># 创建sysmgrs组</span></span><br><span class=line>useradd -G sysmgrs natasha <span class=comment># 创建 natasha用户,并设置附属组为 sysmgrs</span></span><br><span class=line>useradd -G sysmgrs harry <span class=comment># 创建用户harry，并设置附属组为sysmgrs</span></span><br><span class=line>useradd -s /sbin/nologin sarah <span class=comment># 创建用户sarah,并执行shell类型为/sbin/nologin</span></span><br><span class=line><span class=built_in>echo</span> ablerate | passwd --stdin natasha <span class=comment># 设置用户密码</span></span><br><span class=line><span class=built_in>echo</span> ablerate | passwd --stdin harry <span class=comment># 设置用户密码</span></span><br><span class=line><span class=built_in>echo</span> ablerate | passwd --stdin sarah <span class=comment># 设置用户密码</span></span><br></pre></td></tr></table></figure><h3 id=配置-cron-作业><a href=#配置-cron-作业 class=headerlink title="配置 cron 作业"></a>配置 cron 作业</h3><blockquote><p>配置 cron 作业，该作业每隔 1 分钟执行以下命令：logger “hello rhcsa”，以用户natasha身份行<br>配置 cron 作业，该作业每隔 1 分钟执行以下命令：logger “hello rhcsa”，以用户natasha身份行<br>配置 cron 作业，每天的 14:23 分执行以下命令：logger “hello rhcsa”，以用户natasha身份运行</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line>crontab -e -u natasha (以natasha用户的身份去编辑cron作业)</span><br><span class=line><span class=comment># */2 * * * * logger &quot;hello rhcsa&quot; (每隔两分钟执行) </span></span><br><span class=line><span class=comment># */1 * * * * logger &quot;hello rhcsa&quot; (每隔一分钟执行)</span></span><br><span class=line><span class=comment># 23 14 * * * logger &quot;hello rhcsa&quot; (每天的14点23分执行)</span></span><br><span class=line><span class=comment># * * * * * 对应的是 分 时 日 月 周</span></span><br><span class=line>crontab -l -u natasha <span class=comment># 验证是否有题目中要求的cron作业</span></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/11/LZ9m59.png alt=LZ9m59.png></p><h3 id=创建协作目录><a href=#创建协作目录 class=headerlink title=创建协作目录></a>创建协作目录</h3><blockquote><p>创建具有以下特征的协作目录 &#x2F;home&#x2F;managers 要求如下:</p><ul><li>&#x2F;home&#x2F;managers 的组用权是 sysmgrs</li><li>目录应当可被 sysmgrs 的成员读取。写入和访问，但任何其他用户不具这些权限。（当然，root 用户有权访问系统上的所有文件和目录）</li><li>&#x2F;home&#x2F;managers 中创建的文件自动将组所有权设置到 sysmgrs 组</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>mkdir</span> /home/managers <span class=comment># 创建目录</span></span><br><span class=line><span class=built_in>chgrp</span> sysmgrs /home/managers <span class=comment># 设置/home/managers所有组为sysmgrs组</span></span><br><span class=line><span class=built_in>chmod</span> g+s /home/managers <span class=comment># 给目录增加特殊权限</span></span><br><span class=line><span class=built_in>chmod</span> u=rwx,g=rwx,o=--- /home/managers <span class=comment># 设置所有者、所属组、其他用户的权限</span></span><br><span class=line><span class=built_in>touch</span> /home/managers/file1 </span><br><span class=line>ll /home/managers/file1 </span><br><span class=line><span class=comment># 使用root用户在 /home/managers 目录下创建file1文件，因为 /home/managers 添加了 sgid 特殊权限，所以 虽然是root用户创建的file1，但是file1的所属组并不是root组，而是继承了/home/managers目录，所属组为sysmgrs组</span></span><br></pre></td></tr></table></figure><h3 id=配置NTP-时间同步><a href=#配置NTP-时间同步 class=headerlink title="配置NTP 时间同步"></a>配置NTP 时间同步</h3><blockquote><p>配置您的系统使其成为materials.example.com的NTP客户端。(注:materials.example.com是classroom.example.com 的 DNS 别名)</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line>timedatectl <span class=comment># 查看当前时间同步信息</span></span><br><span class=line>systemctl status chronyd <span class=comment># 查看时间同步服务状态</span></span><br><span class=line>systemctl start chronyd <span class=comment># 启动时间同步服务</span></span><br><span class=line>systemctl <span class=built_in>enable</span> chronyd <span class=comment># 且设置成开机自启动</span></span><br><span class=line>vim /etc/chrony.conf <span class=comment># 编辑 /etc/chrony.conf 文件，将 materials.example.com 服务器指定为NTP时间源</span></span><br><span class=line><span class=comment># 添加server materials.example.com iburst 包括可加快初始时间同步的 iburst 选项</span></span><br><span class=line>systemctl restart chronyd <span class=comment># 重启时间同步服务，使参数生效</span></span><br><span class=line>timedatectl <span class=comment># 验证,如下图划线的yes和active一定要都有</span></span><br><span class=line>chronyc sources -v <span class=comment># 验证配置参数是否正确</span></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/11/LZAkK1.png alt=LZAkK1.png><br><img src=https://s1.ax1x.com/2022/04/11/LZAcIU.png alt=LZAcIU.png><br><img src=https://s1.ax1x.com/2022/04/11/LZVs4U.png alt=LZVs4U.png></p><h3 id=配置-autofs><a href=#配置-autofs class=headerlink title="配置 autofs"></a>配置 autofs</h3><blockquote><p>配置 autofs ，以按照如下所述自动挂载远程用户的主目录:</p><ul><li>materials.example.com ( 172.24.2.10 ) NFS 导出 &#x2F;rhome 到您的系统。此文件系统包含为用户 remoteuser1 预配置的主目录.</li><li>remoteuser1 的主目录是 materials.example.com:&#x2F;rhome&#x2F;remoteuser1</li><li>remoteuser1 的主目录应自动挂载到本地 &#x2F;rhome 下的 &#x2F;rhome&#x2F;remoteuser1</li><li>主目录必须可供其用户写入</li><li>remoteuser1 的密码是 ablerate</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre></td><td class=code><pre><span class=line>yum -y install autofs <span class=comment># 安装autofs软件包</span></span><br><span class=line>systemctl start autofs <span class=comment># 启动antofs服务</span></span><br><span class=line>systemctl <span class=built_in>enable</span> autofs <span class=comment># 设置成开机自启动</span></span><br><span class=line>systemctl status autofs <span class=comment># 查看一下状态</span></span><br><span class=line>vim /etc/auto.master <span class=comment># 编辑/etc/auto.master的映射文件 </span></span><br><span class=line><span class=comment># 添加/rhome /etc/auto.hzh auto.后面可以自己定义</span></span><br><span class=line>vim /etc/auto.hzh <span class=comment># 创建一个名为 /etc/auto.hzh 的映射文件 </span></span><br><span class=line><span class=comment># 添加remoteuser1 -fstype=nfs4,rw materials.example.com:/rhome/remoteuser1</span></span><br><span class=line>systemctl restart autofs <span class=comment># 重新启动autofs服务</span></span><br><span class=line>su - remoteuser1 <span class=comment># 验证</span></span><br><span class=line><span class=comment># 切换到 remoteuser1 用户 df -TH 看一看是不是成功挂载 </span></span><br></pre></td></tr></table></figure><p>添加&#x2F;rhome &#x2F;etc&#x2F;auto.hzh 并保存退出<img src=https://s1.ax1x.com/2022/04/11/LZ8WKf.png alt=LZ8WKf.png><br>添加用户、权限、主目录，并保存退出 <img src=https://s1.ax1x.com/2022/04/11/LZ8hqS.png alt=LZ8hqS.png><br>切换到remoteuser1用户然后验证是否挂载成功<img src=https://s1.ax1x.com/2022/04/11/LZ8lbF.png alt=LZ8lbF.png></p><h3 id=配置文件权限><a href=#配置文件权限 class=headerlink title=配置文件权限></a>配置文件权限</h3><blockquote><p>将文件 &#x2F;etc&#x2F;fstab 复制到 &#x2F;var&#x2F;tmp&#x2F;fstab 。配置 &#x2F;var&#x2F;tmp&#x2F;fstab 的权限以满足如下条件：</p><ul><li>文件 &#x2F;var&#x2F;tmp&#x2F;fstab 所有者为root</li><li>文件 &#x2F;var&#x2F;tmp&#x2F;fstab 所属组为root</li><li>文件 &#x2F;var&#x2F;tmp&#x2F;fstab 应不能被任何人执行</li><li>用户 natasha 能够读取和写入 &#x2F;var&#x2F;tmp&#x2F;fstab</li><li>用户 harry 无法写入或读取 &#x2F;var&#x2F;tmp&#x2F;fstab</li><li>所有其他用户（当前或未来）能够读取 &#x2F;var&#x2F;tmp&#x2F;fstab</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cp</span> -av /etc/fstab /var/tmp/fstab</span><br><span class=line>setfacl -m u:natasha:rw- /var/tmp/fstab</span><br><span class=line>setfacl -m u:harry:--- /var/tmp/fstab</span><br><span class=line><span class=comment># 设置特殊权限 /var/tmp/fstab</span></span><br><span class=line>getfacl /var/tmp/fstab <span class=comment># 验证权限</span></span><br></pre></td></tr></table></figure><h3 id=配置用户帐户><a href=#配置用户帐户 class=headerlink title=配置用户帐户></a>配置用户帐户</h3><blockquote><p>创建用户账户 alex，用户的 ID 为 1234，此用户的密码应当为 thuctive</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>useradd -u 1234 alex <span class=comment># 创建用户alex并设置用户的ID为1234</span></span><br><span class=line><span class=built_in>echo</span> thuctive | passwd --stdin alex <span class=comment># 设置密码</span></span><br><span class=line><span class=built_in>id</span> alex <span class=comment># 验证一下</span></span><br></pre></td></tr></table></figure><h3 id=查找文件><a href=#查找文件 class=headerlink title=查找文件></a>查找文件</h3><blockquote><p>查找属于 jacques 用户所属的文件，并拷贝到 &#x2F;root&#x2F;findfiles 目录</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line> <span class=built_in>mkdir</span> /root/findfiles <span class=comment># 创建目录</span></span><br><span class=line> find / -user jacques -<span class=built_in>exec</span> <span class=built_in>cp</span> -avp &#123;&#125; /root/findfiles/ \;</span><br><span class=line> <span class=comment># 查找用户jacques用户的文件，并拷贝到 /root/findfiles 目录</span></span><br><span class=line><span class=built_in>cd</span> /root/findfiles <span class=comment># 切换到目录看一看有没有所属jacques的文件</span></span><br></pre></td></tr></table></figure><h3 id=查找字符串><a href=#查找字符串 class=headerlink title=查找字符串></a>查找字符串</h3><blockquote><p>查找文件 &#x2F;usr&#x2F;share&#x2F;xml&#x2F;iso-codes&#x2F;iso_639_3.xml 中包含字符串 ng 的所有行。将所有这些行的副本按原始顺序放在文件 &#x2F;root&#x2F;list 中。 &#x2F;root&#x2F;list 不得包含空行，且所有行必须是 &#x2F;usr&#x2F;share&#x2F;xml&#x2F;iso-codes&#x2F;iso_639_3.xml 中原始行的确切副本。</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cat</span> /usr/share/xml/iso-codes/iso_639_3.xml | grep ng | grep -v <span class=string>&quot;^$&quot;</span> &gt;&gt; /root/list</span><br><span class=line><span class=comment># grep -v &quot;^$&quot; 表示去除空格，&gt;&gt; 双大于号表示重定向</span></span><br><span class=line><span class=built_in>cat</span> /root/list <span class=comment># 验证</span></span><br></pre></td></tr></table></figure><h3 id=创建存档><a href=#创建存档 class=headerlink title=创建存档></a>创建存档</h3><blockquote><p>创建一个名为 &#x2F;root&#x2F;backup.tar.gz 的 tar 存档，其应包含 &#x2F;usr&#x2F;local 的 tar 存档，其应包含 &#x2F;usr&#x2F;local 的内容。该 tar 存档必须使用 gzip 进行压缩。</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line>tar zcvf /root/backup.tar.bz2 /usr/local</span><br><span class=line>tar jcvf /root/backup.tar.bz2 /usr/local</span><br><span class=line>tar Jcvf /root/backup.tar.xz /usr/local</span><br><span class=line><span class=comment># j 表示 bzip2 压缩格式、J 表示 xz 压缩格式，z 表示 gz 压缩格式</span></span><br></pre></td></tr></table></figure><h3 id=设置密码策略-有效期><a href=#设置密码策略-有效期 class=headerlink title=设置密码策略(有效期)></a>设置密码策略(有效期)</h3><blockquote><p>设置密码策略(有效期)</p><p>所有 node1 上的新本地用户所使用的密码都应该在 20 天后过期</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>vim /etc/login.defs <span class=comment># 编辑密码策略配置文件 /etc/login.defs，修改 PASS_MAX_DAYS 参数</span></span><br><span class=line>useradd rhcsa <span class=comment># 新创建一个用户来验证</span></span><br><span class=line>chage -l rhcsa <span class=comment># 查看新创建的用户 rhcsa 密码策略，是不是 20 天以后过期</span></span><br></pre></td></tr></table></figure><p>编辑配置文件，修改 PASS_MAX_DAYS 参数 为题目要求的<img src=https://s1.ax1x.com/2022/04/12/LmVP7q.png alt=LmVP7q.png><br>查看新创建的用户 rhcsa 密码策略，是不是 20 天以后过期<img src=https://s1.ax1x.com/2022/04/12/LmkktO.png alt=LmkktO.png></p></div><div class=post-copyright><div class=post-copyright-icon></div><div class=post-copyright-author><span class=post-copyright-meta>文章作者: </span><span class=post-copyright-info><a href=mailto:hzhlovezy@gmail.com>Hanws(汉斯)</a></span></div><div class=post-copyright-type><span class=post-copyright-meta>文章链接: </span><span class=post-copyright-info><a href=https://www.hzh.best/2022/04/09/Redhat/ >https://www.hzh.best/2022/04/09/Redhat/</a></span></div><div class=post-copyright-notice><span class=post-copyright-meta>版权声明: </span><span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0 </a>许可协议。转载请注明来自 <a href=https://www.hzh.best/2022/04/09/Redhat/ target=_blank>Hanws&#39;s blog</a> ！</span></div></div><div class=pagination-post><a href=/2022/04/11/Linux%E5%9F%BA%E7%A1%80/ ><div class=prev-title><i class="fas fa-chevron-left"></i>Linux基础</div><div class=prev-desc></div></a><a href=/2022/04/09/%E5%93%88%E5%93%88/ ><div class=next-title>哈哈👋🏻<i class="fas fa-chevron-right"></i></div><div class=next-desc>大家好，我是Hanws😂,你们可能是通过我的网名 [被驴踢过的脑袋还好使吗] 认识我的，我的特点有: 理想主义 有点努力 会点技术 接受过义务教育的义务教育漏网之鱼 LSP 这是我第一次开...</div></a></div></article><div id=toc-wrap><div id=toc><div class=toc-title><div>目录 <span class=num>0%</span></div><progress class=progress value=0 max=100></progress></div><div class=toc-list><ol class=toc><li class="toc-item toc-level-1"><a class=toc-link href=#RHCSA%E8%80%83%E8%AF%95><span class=toc-text>RHCSA考试</span></a><ol class=toc-child><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%9C%A8node1-net2-example-com-%E4%B8%8A%E5%81%9A%E9%A2%98><span class=toc-text>在node1.net2.example.com 上做题</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AEnode1%E4%B8%BB%E6%9C%BA%E4%BF%A1%E6%81%AF%EF%BC%8C%E4%BD%BF%E5%85%B6%E5%85%B7%E6%9C%89%E4%BB%A5%E4%B8%8B%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%EF%BC%9A><span class=toc-text>配置node1主机信息，使其具有以下网络配置：</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E4%BB%A5%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E5%BA%93><span class=toc-text>配置你的系统以使用默认存储库:</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%B0%83%E8%AF%95-SELinux><span class=toc-text>调试 SELinux</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7%E5%92%8C%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7><span class=toc-text>创建用户账户和配置用户账户</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE-cron-%E4%BD%9C%E4%B8%9A><span class=toc-text>配置 cron 作业</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E5%8D%8F%E4%BD%9C%E7%9B%AE%E5%BD%95><span class=toc-text>创建协作目录</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AENTP-%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5><span class=toc-text>配置NTP 时间同步</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE-autofs><span class=toc-text>配置 autofs</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90><span class=toc-text>配置文件权限</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%B8%90%E6%88%B7><span class=toc-text>配置用户帐户</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6><span class=toc-text>查找文件</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=toc-text>查找字符串</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E5%AD%98%E6%A1%A3><span class=toc-text>创建存档</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5-%E6%9C%89%E6%95%88%E6%9C%9F><span class=toc-text>设置密码策略(有效期)</span></a></li></ol></li></ol></li></ol></div></div></div></main><section id=rightside><div class=rightside-item><a id=open-toc title=目录><i class="fas fa-list-ul"></i> </a><a href=javascript:void(0); id=darkmode title="深色/浅色 "><i class="fas fa-moon"></i> </a><a href=# title=回到顶部><i class="fas fa-arrow-up"></i></a></div></section><footer class=footer id=footer><div class=copyright>&copy; 2020 - 2022 <i class="fas fa-fan"></i> Hanws汉斯</div><div class=framework-info><span>框架</span> <a href=https://hexo.io target=_blank>Hexo</a> <span class=footer-separator>|</span> <span>主题 </span><a href=https://github.com/lete114/hexo-theme-MengD target=_blank>MengD.(萌典)</a></div><div class=custom-text>我相信我可以，但我一直在路上，所以我有无限的可能！！</div></footer></div><div id=mask onclick=closeAll()></div><div id=local-search><div id=local-search-title>本地搜索</div><input id=local-search-input autocomplete=off placeholder=搜索文章 type=text><hr><div id=local-search-result></div><span class=search-close-button><i class="fas fa-times"></i></span></div><script src=/js/search.js></script><div class=script><script src=/js/main.js></script><script src=/js/lazyload.js></script><script>function LoadPjax(){window.pjax=new Pjax({selectors:["head title",'head meta[name="keywords"]','head meta[name="description"]',"main","#rightside"],cacheBust:!1})}getScript("https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js",LoadPjax);var timer=null;function ProgressStart(){var e="pjax-progress",t=$query("."+e),a=10;t||((t=document.createElement("div")).className=e,document.body.prepend(t));clearInterval(timer),timer=setInterval(function(){var e=parseInt(7*Math.random());95<(a+=e+3)&&(a=95),t.style.width=a+"%"},500)}function ProgressFinish(){clearInterval(timer);var e=$query(".pjax-progress");e.style.width="100%",timer=setTimeout(function(){e.parentNode.removeChild(e)},700)}document.addEventListener("pjax:send",function(){ProgressStart()}),document.addEventListener("pjax:complete",function(){ProgressFinish(),exeAllFn(),ImgLazyLoad("body img[data-img]","data-img"),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)})}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div></body></html>