<!DOCTYPE html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>Redhatè®¤è¯ç³»åˆ—ä¹‹çº¢å¸½è®¤è¯ç³»ç»Ÿç®¡ç†å‘˜(RHCSA) | è¢«é©´è¸¢è¿‡çš„è„‘è¢‹è¿˜å¥½ä½¿å—</title><meta name=author content=Hanwsæ±‰æ–¯><meta name=copyright content=Hanwsæ±‰æ–¯><link rel="shortcut icon" href=https://s1.ax1x.com/2022/06/04/XdJYgf.jpg><meta name=keywords content=Linux,Redhat><meta name=description content="RHCSAè€ƒè¯•RHCSAçš„è€ƒè¯•æ—¶é—´ä¸º3ä¸ªé’Ÿå¤´ï¼Œè€ƒè¯•ç¯å¢ƒæœ‰ä¸¤å°è™šæ‹Ÿæœºï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯8ç‰ˆæœ¬çš„é¢˜ç›®ï¼ŒRHCE8 ç‰ˆæœ¬å’Œä»¥å¾€ç›¸æ¯”å˜åŠ¨æœ‰è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚  åœ¨node1.net2.example.com ä¸Šåšé¢˜é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š ä¸»æœºåï¼šnode1.net2.example.comIPåœ°å€ï¼š172.24.2.10å­ç½‘æ©ç ï¼š255.255.255.0ç½‘å…³ï¼š172.24.2.254åç§°"><meta property=og:type content=article><meta property=og:title content=Redhatè®¤è¯ç³»åˆ—ä¹‹çº¢å¸½è®¤è¯ç³»ç»Ÿç®¡ç†å‘˜(RHCSA)><meta property=og:url content=https://www.hzh.best/2022/06/04/Redhat/ ><meta property=og:site_name content=è¢«é©´è¸¢è¿‡çš„è„‘è¢‹è¿˜å¥½ä½¿å—><meta property=og:description content="RHCSAè€ƒè¯•RHCSAçš„è€ƒè¯•æ—¶é—´ä¸º3ä¸ªé’Ÿå¤´ï¼Œè€ƒè¯•ç¯å¢ƒæœ‰ä¸¤å°è™šæ‹Ÿæœºï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯8ç‰ˆæœ¬çš„é¢˜ç›®ï¼ŒRHCE8 ç‰ˆæœ¬å’Œä»¥å¾€ç›¸æ¯”å˜åŠ¨æœ‰è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚  åœ¨node1.net2.example.com ä¸Šåšé¢˜é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š ä¸»æœºåï¼šnode1.net2.example.comIPåœ°å€ï¼š172.24.2.10å­ç½‘æ©ç ï¼š255.255.255.0ç½‘å…³ï¼š172.24.2.254åç§°"><meta property=og:locale content=zh_CN><meta property=og:image content=https://s1.ax1x.com/2022/06/04/XdJYgf.jpg><meta property=article:published_time content=2022-06-04T12:20:00.032Z><meta property=article:modified_time content=2022-04-16T03:49:36.209Z><meta property=article:author content=Hanwsæ±‰æ–¯><meta property=article:tag content=Linux><meta property=article:tag content=Redhat><meta name=twitter:card content=summary><meta name=twitter:image content=https://s1.ax1x.com/2022/06/04/XdJYgf.jpg><meta http-equiv=Cache-Control content=no-siteapp><link href=https://cdn.jsdelivr.net rel=preconnect><link href=https://www.hzh.best rel=prefetch><link href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><script src=/js/utlis.js></script><script>!function(){var t=$query("html");"true"===localStorage.isDark?t.setAttribute("theme","dark"):t.removeAttribute("theme")}()</script><meta name=generator content="Hexo 6.1.0"></head><body><script>var $config={CDN:{fancyboxJs:"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.26/dist/fancybox.umd.js",fancyboxCss:"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.26/dist/fancybox.css"},searchFile:"/search.xml",codeBlockExpand:{enable:!0,height:400,scrollTop:200}}</script><div id=body-wrap><nav id=nav-wrap><div class=navbar><div class=bar><a href=/ class=title>è¢«é©´è¸¢è¿‡çš„è„‘è¢‹è¿˜å¥½ä½¿å—</a> <i class="fas fa-search search-btn"></i><ul class=menu><li><a href=/ >é¦–é¡µ</a></li><li><a class=menu-child-hover href=javascript:void(0);>æ‰¾æ–‡ç« </a><ul class=menu-child><li><a href=/tags>æ ‡ç­¾</a></li><li><a href=/categories>åˆ†ç±»</a></li><li><a href=/archives>å½’æ¡£</a></li></ul></li><li><a href=/link>å‹æƒ…é“¾æ¥</a></li><li><a href=/about>å…³äºæˆ‘</a></li></ul><i class="fas fa-bars open-nav"></i></div></div><div id=mobile-nav><ul><li><a href=/ >é¦–é¡µ</a></li><li><a href=/tags>æ ‡ç­¾</a></li><li><a href=/categories>åˆ†ç±»</a></li><li><a href=/archives>å½’æ¡£</a></li><li><a href=/link>å‹æƒ…é“¾æ¥</a></li><li><a href=/about>å…³äºæˆ‘</a></li></ul></div></nav><main id=main><article id=post><div class=post-info><div class=post-title><h1>Redhatè®¤è¯ç³»åˆ—ä¹‹çº¢å¸½è®¤è¯ç³»ç»Ÿç®¡ç†å‘˜(RHCSA)</h1></div><div class=post-meta><div class=post-date><i class="far fa-calendar-alt fa-fw post-meta-icon"></i> <span class=post-meta-label>å‘è¡¨äº 2022-06-04 | </span><i class="fas fa-history fa-fw post-meta-icon"></i> <span class=post-meta-label>æ›´æ–°äº 2022-07-14</span></div><div class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i> <span class=post-meta-label>æ€»å­—æ•°:</span> <span class=word-count>4.8k | </span><i class="far fa-clock fa-fw post-meta-icon"></i> <span class=post-meta-label>é˜…è¯»æ—¶é•¿:</span> <span>19åˆ†é’Ÿ</span></div></div></div><div class=post-content><h1 id=RHCSAè€ƒè¯•><a href=#RHCSAè€ƒè¯• class=headerlink title=RHCSAè€ƒè¯•></a>RHCSAè€ƒè¯•</h1><p>RHCSAçš„è€ƒè¯•æ—¶é—´ä¸º3ä¸ªé’Ÿå¤´ï¼Œè€ƒè¯•ç¯å¢ƒæœ‰ä¸¤å°è™šæ‹Ÿæœºï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯8ç‰ˆæœ¬çš„é¢˜ç›®ï¼ŒRHCE8 ç‰ˆæœ¬å’Œä»¥å¾€ç›¸æ¯”å˜åŠ¨æœ‰è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚</p><hr><h1 id=åœ¨node1-net2-example-com-ä¸Šåšé¢˜><a href=#åœ¨node1-net2-example-com-ä¸Šåšé¢˜ class=headerlink title="åœ¨node1.net2.example.com ä¸Šåšé¢˜"></a>åœ¨node1.net2.example.com ä¸Šåšé¢˜</h1><h3 id=é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š><a href=#é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š class=headerlink title=é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š></a>é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š</h3><blockquote><p>ä¸»æœºåï¼šnode1.net2.example.com<br>IPåœ°å€ï¼š172.24.2.10<br>å­ç½‘æ©ç ï¼š255.255.255.0<br>ç½‘å…³ï¼š172.24.2.254<br>åç§°æœåŠ¡å™¨ï¼š172.24.2.254</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>hostname <span class=comment># æŸ¥çœ‹ä¸»æœºåä¸é¢˜ç›®è¦æ±‚ä¸åŒï¼Œç”¨hostnamectlå‘½ä»¤è®¾ç½®å³å¯</span></span><br><span class=line>hostnamectl set-hostname node1.net2.example.com <span class=comment># è®¾ç½®ä¸ºé¢˜ç›®è¦æ±‚çš„ä¸»æœºå</span></span><br><span class=line>hostname <span class=comment># éªŒè¯æ˜¯å¦å·²ç»ä¸»æœºåå·²ç»è®¾ç½®ä¸ºé¢˜ç›®è¦æ±‚çš„ä¸»æœºå</span></span><br></pre></td></tr></table></figure><ol><li>tuiå­—ç¬¦ç•Œé¢å›¾å½¢æ¨¡å¼é…ç½® è¾“å…¥å‘½ä»¤nmtuiå³å¯<img src=https://s1.ax1x.com/2022/04/10/LAitw4.png alt=LAitw4.png></li></ol><p>2.è¿›å…¥é…ç½®ç•Œé¢ <img src=https://s1.ax1x.com/2022/04/10/LAkVaQ.png alt=LAkVaQ.png><br>Edit a connection:ç¼–è¾‘ä¸€ä¸ªè¿æ¥ï¼Œå¯ä»¥æ·»åŠ æˆ–åˆ é™¤ç½‘ç»œé…ç½®<br>Activate a connection:æ¿€æ´»ä¸€ä¸ªè¿æ¥ï¼Œå¯ä»¥å¯ç”¨æˆ–è€…ç¦ç”¨ç½‘ç»œé…ç½®<br>Set system hostname:è®¾ç½®ç³»ç»Ÿhostname<br>3. é€‰æ‹©ç½‘ç»œæ¥å£ Editç¼–è¾‘<img src=https://s1.ax1x.com/2022/04/10/LAEx54.png alt=LAEx54.png><br>4. å…ˆæŠŠAutomaticæ”¹æˆmanualï¼Œå†æŠŠå…‰æ ‡å®šä½åˆ°showä¸Šé¢å›è½¦é”®[<img src=https://s1.ax1x.com/2022/04/10/LAVURs.png alt=LAVURs.png><br>5. å†è¿›è¡Œç›¸å…³é…ç½®ï¼Œ æ©ç ç›´æ¥åœ¨ IPåœ°å€åé¢æ·»åŠ  ä¸ç„¶é»˜è®¤32ä½çš„ï¼Œé”®ç›˜æ“ä½œï¼šæ¯”å¦‚Adressåé¢çš„SHOWï¼ŒæŠŠå…‰æ ‡å®šä½SHOWå›è½¦å³å¯å‡ºç° IPåœ°å€é…ç½®ï¼Œç„¶åæŠŠ Automatically connect(è‡ªåŠ¨è¿æ¥)å’ŒAvailable to all users(é€‚ç”¨äºæ‰€æœ‰ç”¨æˆ·) ç»™Xä¸Š(æŒ‰ç©ºæ ¼é”®)ï¼Œæœ€åOKå›åˆ°ä¸»ç•Œé¢<img src=https://s1.ax1x.com/2022/04/10/LAZr6I.png alt=LAZr6I.png><br>6. å…‰æ ‡å³ç§»ï¼Œæ‰¾åˆ° Back å›è½¦<img src=https://s1.ax1x.com/2022/04/10/LAZONF.png alt=LAZONF.png><br>7. æœ€å quit é€€å‡º<img src=https://s1.ax1x.com/2022/04/10/LAZx39.png alt=LAZx39.png></p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>nmcli connection show <span class=comment># æŸ¥çœ‹ç½‘å¡</span></span><br><span class=line>nmcli connection up â€œä½ çš„ç½‘å¡â€ <span class=comment># æ¿€æ´»ç½‘å¡</span></span><br><span class=line>ip a <span class=comment># æŸ¥çœ‹ä½ çš„ipåœ°å€æ˜¯å¦è®¾ç½®æˆé¢˜ç›®è¦æ±‚çš„</span></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/10/LAu62Q.png alt=LAu62Q.png></p><h3 id=é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“><a href=#é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“ class=headerlink title=é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“></a>é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“</h3><blockquote><p>åœ¨ node1 ä¸»æœºä¸Šé…ç½® yum ä»“åº“ï¼Œå¹¶å¯åŠ¨é»˜è®¤å­˜å‚¨åº“<br>ä»“åº“åœ°å€ï¼š<a target=_blank rel=noopener href=http://content.example.com/rhel8.2/x86_64/dvd/BaseOS>http://content.example.com/rhel8.2/x86_64/dvd/BaseOS</a> å’Œ<br><a target=_blank rel=noopener href=http://content.example.com/rhel8.2/x86_64/dvd/AppStream>http://content.example.com/rhel8.2/x86_64/dvd/AppStream</a><br>å°†ä»¥ä¸Šä¸¤ä¸ªå­˜å‚¨åº“é…ç½®ä¸ºç³»ç»Ÿçš„é»˜è®¤å­˜å‚¨åº“ã€‚æ— éœ€æ£€æŸ¥ GPG ç­¾å</p></blockquote><p>è§£é¢˜æ­¥éª¤ï¼š</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cd</span> /etc/yum.repos.d <span class=comment># åˆ‡æ¢åˆ°yumä»“åº“çš„é…ç½®æ–‡ä»¶</span></span><br><span class=line><span class=built_in>ls</span> <span class=comment># çœ‹ä¸€çœ‹ç›®å½•ä¸‹é¢æœ‰æ²¡æœ‰æ–‡ä»¶ï¼Œæœ‰æ–‡ä»¶çš„è¯ mv * /home/</span></span><br><span class=line>vim rhcsa.repo <span class=comment># åªè¦ä»¥repoåç¼€ç»“å°¾çš„å°±å¯ä»¥æˆ‘è¿™é‡Œä»¥rhcsaä¸ºä¾‹å­</span></span><br><span class=line>[baseos]</span><br><span class=line>name=baseos </span><br><span class=line>baseurl=http://content.example.com/rhel8.2/x86_64/dvd/BaseOS (è¿™é‡Œå†™ä»“åº“åœ°å€ï¼Œä»¥å®é™…åœ°å€ä¸ºå‡†)</span><br><span class=line>enabled=1</span><br><span class=line>gpgcheck=0 (æ— éœ€æ£€æŸ¥GPGç­¾å)</span><br><span class=line>[appstream]</span><br><span class=line>name=appstream</span><br><span class=line>baseurl=http://content.example.com/rhel8.2/x86_64/dvd/AppStream (åŒä¸Š)</span><br><span class=line>enabled=1</span><br><span class=line>gpgcheck=0 (æ— éœ€æ£€æŸ¥GPGç­¾å) </span><br></pre></td></tr></table></figure><ul><li><p>ç„¶å ESC SHIFTåŠ å†’å· wqä¿å­˜é€€å‡º</p></li><li><p><strong>é¢˜ç›®éªŒè¯:</strong></p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>yum repolist all <span class=comment># æ˜¾ç¤ºæœ‰ä½ é…ç½®çš„ä¸¤ä¸ªä»“åº“idå’Œä»“åº“åä»¥åŠçŠ¶æ€æ˜¯enabledçš„å°±è¯´æ˜é…ç½®æˆåŠŸ</span></span><br><span class=line>yum list <span class=comment># æ˜¾ç¤ºè½¯ä»¶åŒ…çš„ä¿¡æ¯ </span></span><br><span class=line></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/10/LAJlVJ.png alt=LAJlVJ.png></p><h3 id=è°ƒè¯•-SELinux><a href=#è°ƒè¯•-SELinux class=headerlink title="è°ƒè¯• SELinux"></a>è°ƒè¯• SELinux</h3><blockquote><p>éæ ‡å‡†ç«¯å£ 82 ä¸Šè¿è¡Œçš„ WEB æœåŠ¡å™¨åœ¨æä¾›å†…å®¹æ—¶é‡åˆ°é—®é¢˜ã€‚æ ¹æ®éœ€è¦è°ƒè¯•å¹¶è§£å†³é—®é¢˜ï¼Œ<br>å¹¶ä½¿å…¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>ç³»ç»Ÿä¸Šçš„ web æœåŠ¡å™¨èƒ½å¤Ÿæä¾› &#x2F;var&#x2F;www&#x2F;html ä¸­æ‰€æœ‰ç°åœ¨æœ‰çš„ html æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šä¸è¦åˆ é™¤æˆ–è€…</li><li>å…¶ä»–æ–¹å¼æ”¹åŠ¨ç°æœ‰çš„æ–‡ä»¶å†…å®¹ï¼‰</li><li>Web æœåŠ¡å™¨é€šè¿‡ 82 ç«¯å£è®¿é—®</li><li>Web æœåŠ¡å™¨åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨</li></ul></blockquote></li></ul><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line>systemctl restart httpd <span class=comment># ä½¿ç”¨systemctl å‘½ä»¤é‡å¯ httpd.serviceã€‚å‘ç°é‡å¯ httpd æœåŠ¡æŠ¥é”™</span></span><br><span class=line><span class=comment># é€šè¿‡ systemctl restart httpd å‘½ä»¤çš„æŠ¥é”™ç»“æœæ¥çœ‹ï¼Œä½¿ç”¨ systemctl status httpd å’Œ journalctl -xe å‘½ä»¤å¯ä»¥æŸ¥è¯¢æŠ¥é”™çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class=line>journalctl -xe </span><br><span class=line><span class=comment># é€šè¿‡æŸ¥è¯¢ä¿¡æ¯å¾—å‡ºï¼Œä½¿ç”¨ semanage port -a -t PORT_TYPE -p tcp 82 å¯ä»¥è§£å†³æŠ¥é”™</span></span><br><span class=line>semanage port -l | grep http <span class=comment># ä½¿ç”¨ semanage å‘½ä»¤æŸ¥æ‰¾é€‚åˆç«¯å£ 82/TCP çš„ç«¯å£ç±»å‹</span></span><br><span class=line>semanage port -a -t http_port_t -p tcp 82 <span class=comment># ä½¿ç”¨ semanage å‘½ä»¤ä¸ºç«¯å£ 82/TCP åˆ†é… http_port_t ç±»å‹</span></span><br><span class=line>systemctl restart httpd <span class=comment># ä½¿ç”¨ systemctl å‘½ä»¤é‡å¯ httpd.service æœåŠ¡ã€‚æ­¤å‘½ä»¤åº”è¯¥ä¼šæˆåŠŸ</span></span><br><span class=line>systemctl status httpd <span class=comment># æŸ¥è¯¢ httpd æœåŠ¡çŠ¶æ€</span></span><br><span class=line>curl 172.24.2.10:82 <span class=comment># æ£€æŸ¥ä½ ç°åœ¨æ˜¯å¦å¯ä»¥è®¿é—®åœ¨ç«¯å£ 82/TCP ä¸Šè¿è¡Œçš„ Web æœåŠ¡å™¨ã€‚ä½¿ç”¨ curl å‘½ä»¤ä» node1 è®¿é—®Web æœåŠ¡</span></span><br><span class=line>firewall-cmd --permanent --add-port=82/tcp <span class=comment># åœ¨node1ä¸Šï¼Œæ‰“å¼€é˜²ç«å¢™ä¸Šçš„ç«¯å£ 82/TCPï¼Œä½¿ç”¨ firewall-cmd å‘½ä»¤ï¼Œåœ¨ node1 çš„é˜²ç«å¢™é»˜è®¤åŒºåŸŸçš„æ°¸ä¹…é…ç½®ä¸­æ‰“å¼€ç«¯å£ 82/TCP</span></span><br><span class=line>firewall-cmd --reload <span class=comment># åœ¨ node1 ä¸Šæ¿€æ´»é˜²ç«å¢™æ›´æ”¹</span></span><br><span class=line>æœ€ååœ¨node2å’Œç‰©ç†æœºåˆ†åˆ«curlä¸€ä¸‹è®¿é—®webæœåŠ¡ï¼ŒéªŒè¯èƒ½ä¸èƒ½è®¿é—®æˆåŠŸ</span><br></pre></td></tr></table></figure><h3 id=åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·><a href=#åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ· class=headerlink title=åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·></a>åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·</h3><blockquote><p>åˆ›å»ºä¸‹åˆ—ç”¨æˆ·ã€ç”¨æˆ·ç»„ï¼Œå¹¶æŒ‰è¦æ±‚å®Œæˆè®¾ç½®ï¼š</p><ul><li>åˆ›å»ºåä¸º sysmgrs çš„é˜»</li><li>åˆ›å»ºç”¨æˆ· natashaï¼Œå…¶ä½œä¸ºæ¬¡è¦ç»„ä»å±äº sysmgrs</li><li>åˆ›å»ºç”¨æˆ· harryï¼Œå…¶ä½œä¸ºæ¬¡è¦ç»„ä»å±äº sysmgrs</li><li>åˆ›å»ºç”¨æˆ· sarah ï¼Œå…¶æ— æƒè®¿é—®ç³»ç»Ÿä¸Šçš„äº¤äº’å¼ shellï¼Œä¸”ä¸æ˜¯ sysmgrs ç»„çš„æˆå‘˜</li><li>natashaã€harryã€sarah çš„å¯†ç æ˜¯ ablerate</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>groupadd sysmgrs <span class=comment># åˆ›å»ºsysmgrsç»„</span></span><br><span class=line>useradd -G sysmgrs natasha <span class=comment># åˆ›å»º natashaç”¨æˆ·,å¹¶è®¾ç½®é™„å±ç»„ä¸º sysmgrs</span></span><br><span class=line>useradd -G sysmgrs harry <span class=comment># åˆ›å»ºç”¨æˆ·harryï¼Œå¹¶è®¾ç½®é™„å±ç»„ä¸ºsysmgrs</span></span><br><span class=line>useradd -s /sbin/nologin sarah <span class=comment># åˆ›å»ºç”¨æˆ·sarah,å¹¶æ‰§è¡Œshellç±»å‹ä¸º/sbin/nologin</span></span><br><span class=line><span class=built_in>echo</span> ablerate | passwd --stdin natasha <span class=comment># è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br><span class=line><span class=built_in>echo</span> ablerate | passwd --stdin harry <span class=comment># è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br><span class=line><span class=built_in>echo</span> ablerate | passwd --stdin sarah <span class=comment># è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br></pre></td></tr></table></figure><h3 id=é…ç½®-cron-ä½œä¸š><a href=#é…ç½®-cron-ä½œä¸š class=headerlink title="é…ç½® cron ä½œä¸š"></a>é…ç½® cron ä½œä¸š</h3><blockquote><p>é…ç½® cron ä½œä¸šï¼Œè¯¥ä½œä¸šæ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šlogger â€œhello rhcsaâ€ï¼Œä»¥ç”¨æˆ·natashaèº«ä»½è¡Œ<br>é…ç½® cron ä½œä¸šï¼Œè¯¥ä½œä¸šæ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šlogger â€œhello rhcsaâ€ï¼Œä»¥ç”¨æˆ·natashaèº«ä»½è¡Œ<br>é…ç½® cron ä½œä¸šï¼Œæ¯å¤©çš„ 14:23 åˆ†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šlogger â€œhello rhcsaâ€ï¼Œä»¥ç”¨æˆ·natashaèº«ä»½è¿è¡Œ</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line>crontab -e -u natasha (ä»¥natashaç”¨æˆ·çš„èº«ä»½å»ç¼–è¾‘cronä½œä¸š)</span><br><span class=line><span class=comment># */2 * * * * logger &quot;hello rhcsa&quot; (æ¯éš”ä¸¤åˆ†é’Ÿæ‰§è¡Œ) </span></span><br><span class=line><span class=comment># */1 * * * * logger &quot;hello rhcsa&quot; (æ¯éš”ä¸€åˆ†é’Ÿæ‰§è¡Œ)</span></span><br><span class=line><span class=comment># 23 14 * * * logger &quot;hello rhcsa&quot; (æ¯å¤©çš„14ç‚¹23åˆ†æ‰§è¡Œ)</span></span><br><span class=line><span class=comment># * * * * * å¯¹åº”çš„æ˜¯ åˆ† æ—¶ æ—¥ æœˆ å‘¨</span></span><br><span class=line>crontab -l -u natasha <span class=comment># éªŒè¯æ˜¯å¦æœ‰é¢˜ç›®ä¸­è¦æ±‚çš„cronä½œä¸š</span></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/11/LZ9m59.png alt=LZ9m59.png></p><h3 id=åˆ›å»ºåä½œç›®å½•><a href=#åˆ›å»ºåä½œç›®å½• class=headerlink title=åˆ›å»ºåä½œç›®å½•></a>åˆ›å»ºåä½œç›®å½•</h3><blockquote><p>åˆ›å»ºå…·æœ‰ä»¥ä¸‹ç‰¹å¾çš„åä½œç›®å½• &#x2F;home&#x2F;managers è¦æ±‚å¦‚ä¸‹:</p><ul><li>&#x2F;home&#x2F;managers çš„ç»„ç”¨æƒæ˜¯ sysmgrs</li><li>ç›®å½•åº”å½“å¯è¢« sysmgrs çš„æˆå‘˜è¯»å–ã€‚å†™å…¥å’Œè®¿é—®ï¼Œä½†ä»»ä½•å…¶ä»–ç”¨æˆ·ä¸å…·è¿™äº›æƒé™ã€‚ï¼ˆå½“ç„¶ï¼Œroot ç”¨æˆ·æœ‰æƒè®¿é—®ç³»ç»Ÿä¸Šçš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ï¼‰</li><li>&#x2F;home&#x2F;managers ä¸­åˆ›å»ºçš„æ–‡ä»¶è‡ªåŠ¨å°†ç»„æ‰€æœ‰æƒè®¾ç½®åˆ° sysmgrs ç»„</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>mkdir</span> /home/managers <span class=comment># åˆ›å»ºç›®å½•</span></span><br><span class=line><span class=built_in>chgrp</span> sysmgrs /home/managers <span class=comment># è®¾ç½®/home/managersæ‰€æœ‰ç»„ä¸ºsysmgrsç»„</span></span><br><span class=line><span class=built_in>chmod</span> g+s /home/managers <span class=comment># ç»™ç›®å½•å¢åŠ ç‰¹æ®Šæƒé™</span></span><br><span class=line><span class=built_in>chmod</span> u=rwx,g=rwx,o=--- /home/managers <span class=comment># è®¾ç½®æ‰€æœ‰è€…ã€æ‰€å±ç»„ã€å…¶ä»–ç”¨æˆ·çš„æƒé™</span></span><br><span class=line><span class=built_in>touch</span> /home/managers/file1 </span><br><span class=line>ll /home/managers/file1 </span><br><span class=line><span class=comment># ä½¿ç”¨rootç”¨æˆ·åœ¨ /home/managers ç›®å½•ä¸‹åˆ›å»ºfile1æ–‡ä»¶ï¼Œå› ä¸º /home/managers æ·»åŠ äº† sgid ç‰¹æ®Šæƒé™ï¼Œæ‰€ä»¥ è™½ç„¶æ˜¯rootç”¨æˆ·åˆ›å»ºçš„file1ï¼Œä½†æ˜¯file1çš„æ‰€å±ç»„å¹¶ä¸æ˜¯rootç»„ï¼Œè€Œæ˜¯ç»§æ‰¿äº†/home/managersç›®å½•ï¼Œæ‰€å±ç»„ä¸ºsysmgrsç»„</span></span><br></pre></td></tr></table></figure><h3 id=é…ç½®NTP-æ—¶é—´åŒæ­¥><a href=#é…ç½®NTP-æ—¶é—´åŒæ­¥ class=headerlink title="é…ç½®NTP æ—¶é—´åŒæ­¥"></a>é…ç½®NTP æ—¶é—´åŒæ­¥</h3><blockquote><p>é…ç½®æ‚¨çš„ç³»ç»Ÿä½¿å…¶æˆä¸ºmaterials.example.comçš„NTPå®¢æˆ·ç«¯ã€‚(æ³¨:materials.example.comæ˜¯classroom.example.com çš„ DNS åˆ«å)</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line>timedatectl <span class=comment># æŸ¥çœ‹å½“å‰æ—¶é—´åŒæ­¥ä¿¡æ¯</span></span><br><span class=line>systemctl status chronyd <span class=comment># æŸ¥çœ‹æ—¶é—´åŒæ­¥æœåŠ¡çŠ¶æ€</span></span><br><span class=line>systemctl start chronyd <span class=comment># å¯åŠ¨æ—¶é—´åŒæ­¥æœåŠ¡</span></span><br><span class=line>systemctl <span class=built_in>enable</span> chronyd <span class=comment># ä¸”è®¾ç½®æˆå¼€æœºè‡ªå¯åŠ¨</span></span><br><span class=line>vim /etc/chrony.conf <span class=comment># ç¼–è¾‘ /etc/chrony.conf æ–‡ä»¶ï¼Œå°† materials.example.com æœåŠ¡å™¨æŒ‡å®šä¸ºNTPæ—¶é—´æº</span></span><br><span class=line><span class=comment># æ·»åŠ server materials.example.com iburst åŒ…æ‹¬å¯åŠ å¿«åˆå§‹æ—¶é—´åŒæ­¥çš„ iburst é€‰é¡¹</span></span><br><span class=line>systemctl restart chronyd <span class=comment># é‡å¯æ—¶é—´åŒæ­¥æœåŠ¡ï¼Œä½¿å‚æ•°ç”Ÿæ•ˆ</span></span><br><span class=line>timedatectl <span class=comment># éªŒè¯,å¦‚ä¸‹å›¾åˆ’çº¿çš„yeså’Œactiveä¸€å®šè¦éƒ½æœ‰</span></span><br><span class=line>chronyc sources -v <span class=comment># éªŒè¯é…ç½®å‚æ•°æ˜¯å¦æ­£ç¡®</span></span><br></pre></td></tr></table></figure><p><img src=https://s1.ax1x.com/2022/04/11/LZAkK1.png alt=LZAkK1.png><br><img src=https://s1.ax1x.com/2022/04/11/LZAcIU.png alt=LZAcIU.png><br><img src=https://s1.ax1x.com/2022/04/11/LZVs4U.png alt=LZVs4U.png></p><h3 id=é…ç½®-autofs><a href=#é…ç½®-autofs class=headerlink title="é…ç½® autofs"></a>é…ç½® autofs</h3><blockquote><p>é…ç½® autofs ï¼Œä»¥æŒ‰ç…§å¦‚ä¸‹æ‰€è¿°è‡ªåŠ¨æŒ‚è½½è¿œç¨‹ç”¨æˆ·çš„ä¸»ç›®å½•:</p><ul><li>materials.example.com ( 172.24.2.10 ) NFS å¯¼å‡º &#x2F;rhome åˆ°æ‚¨çš„ç³»ç»Ÿã€‚æ­¤æ–‡ä»¶ç³»ç»ŸåŒ…å«ä¸ºç”¨æˆ· remoteuser1 é¢„é…ç½®çš„ä¸»ç›®å½•.</li><li>remoteuser1 çš„ä¸»ç›®å½•æ˜¯ materials.example.com:&#x2F;rhome&#x2F;remoteuser1</li><li>remoteuser1 çš„ä¸»ç›®å½•åº”è‡ªåŠ¨æŒ‚è½½åˆ°æœ¬åœ° &#x2F;rhome ä¸‹çš„ &#x2F;rhome&#x2F;remoteuser1</li><li>ä¸»ç›®å½•å¿…é¡»å¯ä¾›å…¶ç”¨æˆ·å†™å…¥</li><li>remoteuser1 çš„å¯†ç æ˜¯ ablerate</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre></td><td class=code><pre><span class=line>yum -y install autofs <span class=comment># å®‰è£…autofsè½¯ä»¶åŒ…</span></span><br><span class=line>systemctl start autofs <span class=comment># å¯åŠ¨antofsæœåŠ¡</span></span><br><span class=line>systemctl <span class=built_in>enable</span> autofs <span class=comment># è®¾ç½®æˆå¼€æœºè‡ªå¯åŠ¨</span></span><br><span class=line>systemctl status autofs <span class=comment># æŸ¥çœ‹ä¸€ä¸‹çŠ¶æ€</span></span><br><span class=line>vim /etc/auto.master <span class=comment># ç¼–è¾‘/etc/auto.masterçš„æ˜ å°„æ–‡ä»¶ </span></span><br><span class=line><span class=comment># æ·»åŠ /rhome /etc/auto.hzh auto.åé¢å¯ä»¥è‡ªå·±å®šä¹‰</span></span><br><span class=line>vim /etc/auto.hzh <span class=comment># åˆ›å»ºä¸€ä¸ªåä¸º /etc/auto.hzh çš„æ˜ å°„æ–‡ä»¶ </span></span><br><span class=line><span class=comment># æ·»åŠ remoteuser1 -fstype=nfs4,rw materials.example.com:/rhome/remoteuser1</span></span><br><span class=line>systemctl restart autofs <span class=comment># é‡æ–°å¯åŠ¨autofsæœåŠ¡</span></span><br><span class=line>su - remoteuser1 <span class=comment># éªŒè¯</span></span><br><span class=line><span class=comment># åˆ‡æ¢åˆ° remoteuser1 ç”¨æˆ· df -TH çœ‹ä¸€çœ‹æ˜¯ä¸æ˜¯æˆåŠŸæŒ‚è½½ </span></span><br></pre></td></tr></table></figure><p>æ·»åŠ &#x2F;rhome &#x2F;etc&#x2F;auto.hzh å¹¶ä¿å­˜é€€å‡º<img src=https://s1.ax1x.com/2022/04/11/LZ8WKf.png alt=LZ8WKf.png><br>æ·»åŠ ç”¨æˆ·ã€æƒé™ã€ä¸»ç›®å½•ï¼Œå¹¶ä¿å­˜é€€å‡º <img src=https://s1.ax1x.com/2022/04/11/LZ8hqS.png alt=LZ8hqS.png><br>åˆ‡æ¢åˆ°remoteuser1ç”¨æˆ·ç„¶åéªŒè¯æ˜¯å¦æŒ‚è½½æˆåŠŸ<img src=https://s1.ax1x.com/2022/04/11/LZ8lbF.png alt=LZ8lbF.png></p><h3 id=é…ç½®æ–‡ä»¶æƒé™><a href=#é…ç½®æ–‡ä»¶æƒé™ class=headerlink title=é…ç½®æ–‡ä»¶æƒé™></a>é…ç½®æ–‡ä»¶æƒé™</h3><blockquote><p>å°†æ–‡ä»¶ &#x2F;etc&#x2F;fstab å¤åˆ¶åˆ° &#x2F;var&#x2F;tmp&#x2F;fstab ã€‚é…ç½® &#x2F;var&#x2F;tmp&#x2F;fstab çš„æƒé™ä»¥æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><ul><li>æ–‡ä»¶ &#x2F;var&#x2F;tmp&#x2F;fstab æ‰€æœ‰è€…ä¸ºroot</li><li>æ–‡ä»¶ &#x2F;var&#x2F;tmp&#x2F;fstab æ‰€å±ç»„ä¸ºroot</li><li>æ–‡ä»¶ &#x2F;var&#x2F;tmp&#x2F;fstab åº”ä¸èƒ½è¢«ä»»ä½•äººæ‰§è¡Œ</li><li>ç”¨æˆ· natasha èƒ½å¤Ÿè¯»å–å’Œå†™å…¥ &#x2F;var&#x2F;tmp&#x2F;fstab</li><li>ç”¨æˆ· harry æ— æ³•å†™å…¥æˆ–è¯»å– &#x2F;var&#x2F;tmp&#x2F;fstab</li><li>æ‰€æœ‰å…¶ä»–ç”¨æˆ·ï¼ˆå½“å‰æˆ–æœªæ¥ï¼‰èƒ½å¤Ÿè¯»å– &#x2F;var&#x2F;tmp&#x2F;fstab</li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cp</span> -av /etc/fstab /var/tmp/fstab</span><br><span class=line>setfacl -m u:natasha:rw- /var/tmp/fstab</span><br><span class=line>setfacl -m u:harry:--- /var/tmp/fstab</span><br><span class=line><span class=comment># è®¾ç½®ç‰¹æ®Šæƒé™ /var/tmp/fstab</span></span><br><span class=line>getfacl /var/tmp/fstab <span class=comment># éªŒè¯æƒé™</span></span><br></pre></td></tr></table></figure><h3 id=é…ç½®ç”¨æˆ·å¸æˆ·><a href=#é…ç½®ç”¨æˆ·å¸æˆ· class=headerlink title=é…ç½®ç”¨æˆ·å¸æˆ·></a>é…ç½®ç”¨æˆ·å¸æˆ·</h3><blockquote><p>åˆ›å»ºç”¨æˆ·è´¦æˆ· alexï¼Œç”¨æˆ·çš„ ID ä¸º 1234ï¼Œæ­¤ç”¨æˆ·çš„å¯†ç åº”å½“ä¸º thuctive</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>useradd -u 1234 alex <span class=comment># åˆ›å»ºç”¨æˆ·alexå¹¶è®¾ç½®ç”¨æˆ·çš„IDä¸º1234</span></span><br><span class=line><span class=built_in>echo</span> thuctive | passwd --stdin alex <span class=comment># è®¾ç½®å¯†ç </span></span><br><span class=line><span class=built_in>id</span> alex <span class=comment># éªŒè¯ä¸€ä¸‹</span></span><br></pre></td></tr></table></figure><h3 id=æŸ¥æ‰¾æ–‡ä»¶><a href=#æŸ¥æ‰¾æ–‡ä»¶ class=headerlink title=æŸ¥æ‰¾æ–‡ä»¶></a>æŸ¥æ‰¾æ–‡ä»¶</h3><blockquote><p>æŸ¥æ‰¾å±äº jacques ç”¨æˆ·æ‰€å±çš„æ–‡ä»¶ï¼Œå¹¶æ‹·è´åˆ° &#x2F;root&#x2F;findfiles ç›®å½•</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line> <span class=built_in>mkdir</span> /root/findfiles <span class=comment># åˆ›å»ºç›®å½•</span></span><br><span class=line> find / -user jacques -<span class=built_in>exec</span> <span class=built_in>cp</span> -avp &#123;&#125; /root/findfiles/ \;</span><br><span class=line> <span class=comment># æŸ¥æ‰¾ç”¨æˆ·jacquesç”¨æˆ·çš„æ–‡ä»¶ï¼Œå¹¶æ‹·è´åˆ° /root/findfiles ç›®å½•</span></span><br><span class=line><span class=built_in>cd</span> /root/findfiles <span class=comment># åˆ‡æ¢åˆ°ç›®å½•çœ‹ä¸€çœ‹æœ‰æ²¡æœ‰æ‰€å±jacquesçš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h3 id=æŸ¥æ‰¾å­—ç¬¦ä¸²><a href=#æŸ¥æ‰¾å­—ç¬¦ä¸² class=headerlink title=æŸ¥æ‰¾å­—ç¬¦ä¸²></a>æŸ¥æ‰¾å­—ç¬¦ä¸²</h3><blockquote><p>æŸ¥æ‰¾æ–‡ä»¶ &#x2F;usr&#x2F;share&#x2F;xml&#x2F;iso-codes&#x2F;iso_639_3.xml ä¸­åŒ…å«å­—ç¬¦ä¸² ng çš„æ‰€æœ‰è¡Œã€‚å°†æ‰€æœ‰è¿™äº›è¡Œçš„å‰¯æœ¬æŒ‰åŸå§‹é¡ºåºæ”¾åœ¨æ–‡ä»¶ &#x2F;root&#x2F;list ä¸­ã€‚ &#x2F;root&#x2F;list ä¸å¾—åŒ…å«ç©ºè¡Œï¼Œä¸”æ‰€æœ‰è¡Œå¿…é¡»æ˜¯ &#x2F;usr&#x2F;share&#x2F;xml&#x2F;iso-codes&#x2F;iso_639_3.xml ä¸­åŸå§‹è¡Œçš„ç¡®åˆ‡å‰¯æœ¬ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cat</span> /usr/share/xml/iso-codes/iso_639_3.xml | grep ng | grep -v <span class=string>&quot;^$&quot;</span> &gt;&gt; /root/list</span><br><span class=line><span class=comment># grep -v &quot;^$&quot; è¡¨ç¤ºå»é™¤ç©ºæ ¼ï¼Œ&gt;&gt; åŒå¤§äºå·è¡¨ç¤ºé‡å®šå‘</span></span><br><span class=line><span class=built_in>cat</span> /root/list <span class=comment># éªŒè¯</span></span><br></pre></td></tr></table></figure><h3 id=åˆ›å»ºå­˜æ¡£><a href=#åˆ›å»ºå­˜æ¡£ class=headerlink title=åˆ›å»ºå­˜æ¡£></a>åˆ›å»ºå­˜æ¡£</h3><blockquote><p>åˆ›å»ºä¸€ä¸ªåä¸º &#x2F;root&#x2F;backup.tar.gz çš„ tar å­˜æ¡£ï¼Œå…¶åº”åŒ…å« &#x2F;usr&#x2F;local çš„ tar å­˜æ¡£ï¼Œå…¶åº”åŒ…å« &#x2F;usr&#x2F;local çš„å†…å®¹ã€‚è¯¥ tar å­˜æ¡£å¿…é¡»ä½¿ç”¨ gzip è¿›è¡Œå‹ç¼©ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line>tar zcvf /root/backup.tar.bz2 /usr/local</span><br><span class=line>tar jcvf /root/backup.tar.bz2 /usr/local</span><br><span class=line>tar Jcvf /root/backup.tar.xz /usr/local</span><br><span class=line><span class=comment># j è¡¨ç¤º bzip2 å‹ç¼©æ ¼å¼ã€J è¡¨ç¤º xz å‹ç¼©æ ¼å¼ï¼Œz è¡¨ç¤º gz å‹ç¼©æ ¼å¼</span></span><br></pre></td></tr></table></figure><h3 id=è®¾ç½®å¯†ç ç­–ç•¥-æœ‰æ•ˆæœŸ><a href=#è®¾ç½®å¯†ç ç­–ç•¥-æœ‰æ•ˆæœŸ class=headerlink title=è®¾ç½®å¯†ç ç­–ç•¥(æœ‰æ•ˆæœŸ)></a>è®¾ç½®å¯†ç ç­–ç•¥(æœ‰æ•ˆæœŸ)</h3><blockquote><p>è®¾ç½®å¯†ç ç­–ç•¥(æœ‰æ•ˆæœŸ)</p><p>æ‰€æœ‰ node1 ä¸Šçš„æ–°æœ¬åœ°ç”¨æˆ·æ‰€ä½¿ç”¨çš„å¯†ç éƒ½åº”è¯¥åœ¨ 20 å¤©åè¿‡æœŸ</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>vim /etc/login.defs <span class=comment># ç¼–è¾‘å¯†ç ç­–ç•¥é…ç½®æ–‡ä»¶ /etc/login.defsï¼Œä¿®æ”¹ PASS_MAX_DAYS å‚æ•°</span></span><br><span class=line>useradd rhcsa <span class=comment># æ–°åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ¥éªŒè¯</span></span><br><span class=line>chage -l rhcsa <span class=comment># æŸ¥çœ‹æ–°åˆ›å»ºçš„ç”¨æˆ· rhcsa å¯†ç ç­–ç•¥ï¼Œæ˜¯ä¸æ˜¯ 20 å¤©ä»¥åè¿‡æœŸ</span></span><br></pre></td></tr></table></figure><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ PASS_MAX_DAYS å‚æ•° ä¸ºé¢˜ç›®è¦æ±‚çš„<img src=https://s1.ax1x.com/2022/04/12/LmVP7q.png alt=LmVP7q.png><br>æŸ¥çœ‹æ–°åˆ›å»ºçš„ç”¨æˆ· rhcsa å¯†ç ç­–ç•¥ï¼Œæ˜¯ä¸æ˜¯ 20 å¤©ä»¥åè¿‡æœŸ<img src=https://s1.ax1x.com/2022/04/12/LmkktO.png alt=LmkktO.png></p><h3 id=é…ç½®ç»„ç‰¹æƒï¼ˆsudoï¼‰><a href=#é…ç½®ç»„ç‰¹æƒï¼ˆsudoï¼‰ class=headerlink title=é…ç½®ç»„ç‰¹æƒï¼ˆsudoï¼‰></a>é…ç½®ç»„ç‰¹æƒï¼ˆsudoï¼‰</h3><blockquote><p>ç»™ sysmgrs ç»„è®¾ç½® sudo ç‰¹æƒï¼Œä½¿å…¶ç»„ä¸­çš„ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨ sudo å‘½ä»¤æ‰§è¡Œ<br>ç®¡ç†å‘½ä»¤ï¼Œå¹¶ä¸”è¿›è¡Œ sudo æ—¶ä¸éœ€è¦å¯†ç </p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cat</span> /etc/sudoers | grep wheel  <span class=comment># æŸ¥è¯¢é…ç½®å‚æ•°</span></span><br><span class=line>visudo <span class=comment># ä¿®æ”¹/etc/sudoersé…ç½®æ–‡ä»¶</span></span><br><span class=line><span class=comment># ä¸ºä»€ä¹ˆä¸ç›´æ¥ vimï¼Œå› ä¸º /etc/sudoers æƒé™æ˜¯ 440ï¼Œå¦‚æœ vim å…ˆæŠŠ /etc/sudoers æ–‡ä»¶æƒé™è®¾ç½®ä¸€ä¸‹</span></span><br><span class=line>æ·»åŠ é…ç½®å‚æ•° %sysmgrs ALL=(ALL) ALL   %sysmgrs ALL=(ALL) NOPASSWD: ALL</span><br><span class=line>su - natasha <span class=comment># åˆ‡æ¢åˆ°sysmgrsè¿™ä¸ªç»„é‡Œçš„ä¸€ä¸ªç”¨æˆ·</span></span><br><span class=line>sudo <span class=built_in>cat</span> /etc/shadow éªŒè¯sudoæƒé™</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°Allows people in group wheel to run all commands(å…è®¸ç»„è½®ä¸­çš„äººè¿è¡Œæ‰€æœ‰å‘½ä»¤)</p><p>æ·»åŠ  %sysmgrs ALL&#x3D;(ALL) ALL<img src=https://s1.ax1x.com/2022/04/13/LKMhb8.png alt=LKMhb8png></p><p>æ‰¾åˆ°Same thing without a password (æ²¡æœ‰å¯†ç ä¹Ÿæ˜¯ä¸€æ ·) æ·»åŠ %sysmgrs ALL&#x3D;(ALL) NOPASSWD: ALL <img src=https://s1.ax1x.com/2022/04/13/LKQwzn.png alt=LKQwznpng></p><h1 id=åœ¨node2-net2-example-com-ä¸Šåšé¢˜><a href=#åœ¨node2-net2-example-com-ä¸Šåšé¢˜ class=headerlink title="åœ¨node2.net2.example.com ä¸Šåšé¢˜"></a>åœ¨node2.net2.example.com ä¸Šåšé¢˜</h1><h3 id=è®¾ç½®-root-å¯†ç ><a href=#è®¾ç½®-root-å¯†ç  class=headerlink title="è®¾ç½® root å¯†ç "></a>è®¾ç½® root å¯†ç </h3><blockquote><p>å°† node2 ä¸»æœºçš„ root çš„å¯†ç è®¾ç½®æˆ ablerateï¼Œä½ éœ€è¦è·å¾—ç³»ç»Ÿè®¿é—®æƒé™æ‰èƒ½è¿›è¡Œæ­¤æ“ä½œ</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>å¼€æœºå¯¼èˆªé¡µé¢æŒ‰e &gt;linuxè¡Œå°¾åŠ ä¸Šrd.break &gt; ctrl x ä½¿ç”¨ä¿®æ”¹åçš„é…ç½®è¿›è¡Œå¯åŠ¨</span><br><span class=line>mount -o rw,remount /sysroot</span><br><span class=line><span class=built_in>chroot</span> /sysroot</span><br><span class=line><span class=built_in>echo</span> flectrag | passwd --stdin root</span><br><span class=line><span class=built_in>touch</span> /.autorelabel</span><br><span class=line><span class=built_in>exit</span></span><br><span class=line><span class=built_in>exit</span></span><br></pre></td></tr></table></figure><p>å¼€æœºå¯¼èˆªé¡µé¢æŒ‰e<img src=https://s1.ax1x.com/2022/04/15/L3OiE6.png alt=L3OiE6png></p><p>Linuxå°¾è¡ŒåŠ  rd.break(å‰é¢ä¸€å®šè¦åŠ ç©ºæ ¼) ç„¶åctrl xå¯åŠ¨<img src=https://s1.ax1x.com/2022/04/15/L3OIPO.png alt=L3OIPOpng></p><p>è¾“å…¥ä»£ç  æœ€åå†è¾“å…¥ä¸¤æ¬¡exité€€å‡º<img src=https://s1.ax1x.com/2022/04/15/L3XoT0.png alt=L3XoT0png></p><h3 id=é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“-1><a href=#é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“-1 class=headerlink title=é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“></a>é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“</h3><blockquote><p>åœ¨ node2 ä¸»æœºä¸Šé…ç½® yum ä»“åº“ï¼Œå¹¶å¯åŠ¨é»˜è®¤å­˜å‚¨åº“<br>ä»“åº“åœ°å€ï¼š<a target=_blank rel=noopener href=http://rhgls.domain8.example.com/BaseOS>http://rhgls.domain8.example.com/BaseOS</a> å’Œ<br><a target=_blank rel=noopener href=http://rhgls.domain8.example.com/AppStream>http://rhgls.domain8.example.com/AppStream</a><br>å°†ä»¥ä¸Šä¸¤ä¸ªå­˜å‚¨åº“é…ç½®ä¸ºç³»ç»Ÿçš„é»˜è®¤å­˜å‚¨åº“ã€‚æ— éœ€æ£€æŸ¥ GPG ç­¾å</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>cd</span> /etc/yum.repos.d</span><br><span class=line><span class=built_in>ls</span></span><br><span class=line>vim rhcsa.repo</span><br><span class=line>[baseos]</span><br><span class=line>name=baseos </span><br><span class=line>baseurl=http://rhgls.domain8.example.com/BaseOS(è¿™é‡Œå†™ä»“åº“åœ°å€ï¼Œä»¥å®é™…åœ°å€ä¸ºå‡†)</span><br><span class=line>enabled=1</span><br><span class=line>gpgcheck=0 (æ— éœ€æ£€æŸ¥GPGç­¾å)</span><br><span class=line>[appstream]</span><br><span class=line>name=appstream</span><br><span class=line>baseurl=http://rhgls.domain8.example.com/AppStream</span><br><span class=line>enabled=1</span><br><span class=line>gpgcheck=0 (æ— éœ€æ£€æŸ¥GPGç­¾å)</span><br></pre></td></tr></table></figure><p>æœ¬é¢˜ä¸node1ç¬¬äºŒé¢˜ç›¸åŒ,å…·ä½“è§£é‡Šè¯·å‚è€ƒ<a href=https://www.hzh.best/2022/04/09/Redhat/#%E9%85%8D%E7%BD%AE%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E4%BB%A5%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E5%BA%93>node1</a></p><h3 id=è°ƒæ•´é€»è¾‘å·å¤§å°><a href=#è°ƒæ•´é€»è¾‘å·å¤§å° class=headerlink title=è°ƒæ•´é€»è¾‘å·å¤§å°></a>è°ƒæ•´é€»è¾‘å·å¤§å°</h3><blockquote><ul><li><p>å°†é€»è¾‘å· vo åŠå…¶æ–‡ä»¶ç³»ç»Ÿçš„å¤§å°è°ƒæ•´åˆ° 230 MiB ç¡®ä¿æ–‡ä»¶ç³»ç»Ÿå†…å®¹ä¿æŒä¸å˜</p></li><li><p>æ³¨ï¼šåˆ†åŒºå¤§å°å¾ˆå°‘ä¸è¯·æ±‚çš„å¤§å°å®Œå…¨ç›¸åŒï¼Œå› æ­¤å¯ä»¥æ¥å—èŒƒå›´ä¸º 217 MiB åˆ° 243 MiB çš„å¤§å°</p></li><li><p>æ ¹æ®é€»è¾‘å·åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸åŒçš„åˆ·æ–°å‘½ä»¤</p><p>vfatã€ext2ã€ext3ã€ext4 ç­‰æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ resize2fs xfs æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ xfs_grwofs</p></li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line>lvextend -L 230M /dev/myvol/vo</span><br><span class=line>blkid  <span class=comment># çœ‹ä¸€ä¸‹æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œè¿™é‡Œæˆ‘æ‹¿ ext4 çš„æ–‡ä»¶ç±»å‹æ¥è·ç¦»</span></span><br><span class=line>resize2fs /dev/myvol/vo  <span class=comment># åˆ·æ–°</span></span><br><span class=line><span class=built_in>df</span> -TH  <span class=comment># éªŒè¯é€»è¾‘å·åˆ†åŒºæŒ‚è½½ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h3 id=ç£ç›˜éƒ¨åˆ†><a href=#ç£ç›˜éƒ¨åˆ† class=headerlink title=ç£ç›˜éƒ¨åˆ†></a>ç£ç›˜éƒ¨åˆ†</h3><p><strong>æ³¨æ„:</strong></p><ul><li><strong>æˆ‘ä»¬è€ƒè¯•çš„æ—¶å€™æœ‰vdaã€vdbã€vdc ä¸‰å—ç£ç›˜ï¼Œé€šè¿‡lsblkå‘½ä»¤æŸ¥è¯¢ å‘ç°</strong></li><li><strong>vda ç£ç›˜ç©ºé—´å…¨éƒ¨åˆ’åˆ†å®Œæ¯•</strong></li><li><strong>vdb ç›®å‰åªåˆ’åˆ†äº†ä¸¤ä¸ªåˆ†åŒº(ä¸»åˆ†åŒº) ï¼Œè¿˜å¯ä»¥åˆ†ä¸¤ä¸ªä¸»åˆ†åŒº</strong></li><li><strong>vdcæ²¡æœ‰ä»»ä½•åˆ†åŒºï¼Œä½œä¸ºåˆ›å»ºvdoå·çš„ç£ç›˜</strong><h3 id=æ·»åŠ äº¤æ¢åˆ†åŒº><a href=#æ·»åŠ äº¤æ¢åˆ†åŒº class=headerlink title=æ·»åŠ äº¤æ¢åˆ†åŒº></a>æ·»åŠ äº¤æ¢åˆ†åŒº</h3></li></ul><blockquote><p>å‘æ‚¨çš„ç³»ç»Ÿæ·»åŠ ä¸€ä¸ªé¢å¤–çš„äº¤æ¢åˆ†åŒº 756MiB äº¤æ¢åˆ†åŒºåº”åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½ã€‚ä¸è¦åˆ é™¤æˆ–ä»¥ä»»ä½•æ–¹å¼æ”¹åŠ¨ç³»ç»Ÿä¸Šçš„ä»»ä½•ç°æœ‰äº¤æ¢åˆ†åŒºã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line>lsblk <span class=comment># é€šè¿‡æŸ¥è¯¢åˆ†åŒºæƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ç¬¬äºŒå—ç£ç›˜vdb</span></span><br><span class=line>fdisk /dev/vdb  <span class=comment># åˆ›å»ºæ–°åˆ†åŒº å…·ä½“åˆ›å»ºè¯·çœ‹ä¸‹å›¾</span></span><br><span class=line>lsblk  <span class=comment># æŸ¥è¯¢æ–°åˆ›å»ºçš„åˆ†åŒºä¿¡æ¯</span></span><br><span class=line>mkswap /dev/vd3  <span class=comment># ç»™æ–°åˆ›å»ºçš„åˆ†åŒº,åˆ†é…æ–‡ä»¶ç³»ç»Ÿ(æ ¼å¼åŒ–)</span></span><br><span class=line>vim /etc/fstab <span class=comment># å°†æŒ‚è½½æ¡ç›®å†™åˆ°/etc/fstab æ–‡ä»¶ä¸­</span></span><br><span class=line><span class=comment># /dev/vd3 swap swap defaults 0 0 </span></span><br><span class=line>free -m  <span class=comment># æŸ¥çœ‹å½“å‰äº¤æ¢åˆ†åŒºå¤§å°</span></span><br><span class=line>swapon -a  <span class=comment># æ¿€æ´»äº¤æ¢åˆ†åŒº è¿™ä¸€æ­¥å‘½ä»¤ä¸€å®šè¦éªŒè¯,å¦‚æœæŠ¥é”™,æŒ‚è½½ä¸€å®šå†™é”™äº†</span></span><br><span class=line>free -m  <span class=comment># æ£€æŸ¥æ¿€æ´»åçš„äº¤æ¢åˆ†åŒº</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºæ–°åˆ†åŒºå…·ä½“æ­¥éª¤:</p><p>fdisk &#x2F;dev&#x2F;vdb ä¹‹åæˆ‘ä»¬è¿›å…¥åˆ°è¿™ä¸ªç•Œé¢ï¼Œp ç„¶åæ•²Enter æ‰“å°çœ‹ä¸€çœ‹åˆ›å»ºäº†å‡ ä¸ªåˆ†åŒº<img src=https://s1.ax1x.com/2022/04/15/LGllse.png alt=LGllsepng></p><p>n åŠ  Enter åˆ›å»º æ¥ç€ä¸‹å›¾é‡Œé¢æ ¹æ®è‹±æ–‡æ˜¾ç¤ºå·²ç»åˆ›å»ºäº†ä¸¤ä¸ªä¸»åˆ†åŒºï¼Œ0ä¸ªæ‹“å±•åˆ†åŒºï¼Œå‰©ä½™ä¸¤ä¸ªä¸»åˆ†åŒº è¿™é‡Œæˆ‘ä»¬ç›´æ¥æŒ‰ Enter é»˜è®¤åˆ›å»ºä¸»åˆ†åŒº<img src=https://s1.ax1x.com/2022/04/15/LG1g7d.png alt=LG1g7dpng></p><p>æ˜¾ç¤º Partition number åˆ†åŒºå· æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯ç›´æ¥æŒ‰ Enteré”®<img src=https://s1.ax1x.com/2022/04/15/LG3CB4.png alt=LG3CB4png></p><p>æ˜¾ç¤º First sector (2095106-8388607, default 2097152) è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ç›´æ¥æ•² Enter é€‰æ‹©é»˜è®¤çš„<img src=https://s1.ax1x.com/2022/04/15/LG3CB4.png alt=LG3CB4png></p><p>æ¥ç€æˆ‘ä»¬æ ¹æ®é¢˜ç›®æè¿°åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º756MB è¿™é‡Œæˆ‘ä»¬æ•² +756M ç„¶å Enter <img src=https://s1.ax1x.com/2022/04/15/LG8URx.png alt=LG8URxpng></p><p>ç„¶åæˆ‘ä»¬ påœ¨æ‰“å°çœ‹ä¸€ä¸‹åˆ›å»ºæ˜¯å¦æˆåŠŸ<img src=https://s1.ax1x.com/2022/04/15/LG8fQf.png alt=LG8fQfpng></p><p>æ¥ç€æˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬åˆ›å»ºå‡ºæ¥çš„vdb3ç£ç›˜å¯¹äºçš„typeç±»å‹ä¸ºLinuxï¼Œæˆ‘ä»¬è¦æ”¹æˆswapç±»å‹çš„</p><p><img src=https://s1.ax1x.com/2022/04/15/LGGpTJ.png alt=LGGpTJpng></p><p>æˆ‘ä»¬æ•² t ç„¶åEnter <img src=https://s1.ax1x.com/2022/04/15/LGtRAg.png alt=LGtRAg.png></p><p>æ¥ç€æˆ‘ä»¬åˆ°Partition number è¿™ä¸€è¡Œç›´æ¥æ•²Enter<img src=https://s1.ax1x.com/2022/04/15/LGGakj.png alt=LGGakjpng></p><p>åœ¨Hex code (type L to list all codes) è¿™ä¸€è¡Œæ•² l <img src=https://s1.ax1x.com/2022/04/15/LGG51x.png alt=LGG51xpng>æ‰¾åˆ°swapç±»å‹å¯¹åº”çš„ç¼–å·ï¼Œæˆ‘è¿™é‡Œæ˜¯82ï¼Œè¾“å…¥82 æ•²Enter<img src=https://s1.ax1x.com/2022/04/15/LGJSjf.png alt=LGJSjfpng></p><p>æ¥ç€ pæ‰“å°ä¸€ä¸‹ï¼ŒéªŒè¯ç±»å‹æ˜¯ä¸æ˜¯æ›´æ”¹æˆåŠŸ <img src=https://s1.ax1x.com/2022/04/15/LGUHkF.png alt=LGUHkF.png></p><p>æœ€å wq ä¿å­˜é€€å‡º <img src=https://s1.ax1x.com/2022/04/15/LGNTGd.png alt=LGNTGd.png></p><p>å°†æ–°åˆ›å»ºçš„ç£ç›˜æ ¼å¼åŒ–æˆswapç±»å‹<img src=https://s1.ax1x.com/2022/04/15/LGJWqS.png alt=LGJWqSpng></p><p>æŠŠè·¯å¾„å¤åˆ¶å°†æŒ‚è½½æ¡ç›®å†™åœ¨&#x2F;etc&#x2F;fstab&#x2F;é‡Œé¢<img src=https://s1.ax1x.com/2022/04/15/LGYVde.png alt=LGYVdepng></p><p>æœ€åswapon -a å’Œ free -m éªŒè¯ä¸€ä¸‹å³å¯</p><h3 id=åˆ›å»ºé€»è¾‘å·><a href=#åˆ›å»ºé€»è¾‘å· class=headerlink title=åˆ›å»ºé€»è¾‘å·></a>åˆ›å»ºé€»è¾‘å·</h3><blockquote><p>æ ¹æ®å¦‚ä¸‹è¦æ±‚ï¼Œåˆ›å»ºæ–°çš„é€»è¾‘å·ï¼š</p><ul><li><p>é€»è¾‘å·å–åä¸º qa ï¼Œå±äº qagroup å·ç»„ï¼Œå¤§å°ä¸º 60 ä¸ªæ‰©å±•å—</p></li><li><p>qagroup å·ç»„ä¸­é€»è¾‘å·çš„æ‰©å±•å—å¤§å°åº”å½“ä¸º 16 MiB</p></li><li><p>ä½¿ç”¨ ext3 æ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–æ–°é€»è¾‘å·ã€‚è¯¥é€»è¾‘å·åº”åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½åˆ° &#x2F;mnt&#x2F;qa ä¸‹</p></li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre></td><td class=code><pre><span class=line>fdisk /dev/vdb  </span><br><span class=line><span class=comment># Command (m for help):n</span></span><br><span class=line><span class=comment>#Partition number (1-4, default 4): ç›´æ¥æ•²Enter</span></span><br><span class=line><span class=comment>#First sector (2048-20971519, default 2048): ç›´æ¥æ•²Enter</span></span><br><span class=line><span class=comment>#Last sector, +sectors or +size&#123;K,M,G,T,P&#125; (2048-20971519, default 20971519):+1G</span></span><br><span class=line><span class=comment># Command (m for help):t</span></span><br><span class=line><span class=comment># Hex code (type L to list all codes):l</span></span><br><span class=line>é€‰ä¸­å¯¹åº”ç¼–å·ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©Linux LVM(82) ç„¶åpæ‰“å°çœ‹ä¸€çœ‹ä¿®æ”¹æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸäº†å°±wqä¿å­˜é€€å‡º</span><br><span class=line>vgcreate qagroup -s 16 /dev/vdb4 <span class=comment># æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯æˆ‘åˆ†å‡ºæ¥çš„vdb4æ¥åˆ›å»ºå·ç»„</span></span><br><span class=line>lvcreate -l 60 -n qa qagroup  <span class=comment># åˆ›å»ºé€»è¾‘å·</span></span><br><span class=line>mkfs.ext3 /dev/qagroup/qa  <span class=comment># æ ¼å¼åŒ–</span></span><br><span class=line><span class=built_in>mkdir</span> /mnt/qa  <span class=comment># åˆ›å»ºæŒ‚è½½ç‚¹</span></span><br><span class=line>vim /etc/fstab <span class=comment># æŠŠæŒ‚è½½æ¡ç›®å†™åˆ°é…ç½®æ–‡ä»¶é‡Œï¼Œ</span></span><br><span class=line><span class=comment># æ·»åŠ  /dev/mapper/qagroup-qa /mnt/qa ext3 defaults 0 0 </span></span><br><span class=line>mount -a  <span class=comment># æ¿€æ´»ä¸€ä¸‹</span></span><br><span class=line><span class=built_in>df</span> -TH  <span class=comment># éªŒè¯æŒ‚è½½ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h3 id=VDO-å­˜å‚¨><a href=#VDO-å­˜å‚¨ class=headerlink title="VDO å­˜å‚¨"></a>VDO å­˜å‚¨</h3><blockquote><p>æ ¹æ®å¦‚ä¸‹è¦æ±‚ï¼Œåˆ›å»ºæ–°çš„ VDO å·:</p><ul><li><p>ä½¿ç”¨æœªåˆ†åŒºçš„ç£ç›˜</p></li><li><p>è¯¥å·çš„åç§°ä¸º vdough</p></li><li><p>è¯¥å·çš„é€»è¾‘å¤§å°ä¸º 50G</p></li><li><p>è¯¥å·ä½¿ç”¨ xfs æ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–</p></li><li><p>è¯¥å·ï¼ˆåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ï¼‰æŒ‚è½½åˆ° &#x2F;vbread ä¸‹</p></li></ul></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line>yum list | grep vdo  <span class=comment># æŸ¥çœ‹ vdo ç›¸å…³è½¯ä»¶åŒ…</span></span><br><span class=line>yum -y install *vdo*  <span class=comment># å®‰è£… vdo å·å­˜å‚¨è½¯ä»¶åŒ…ï¼Œå¦‚æœè®°ä¸ä½ï¼Œvdo åå­—çš„å·¦è¾¹å’Œå³è¾¹åŠ ä¸Šé€šé…ç¬¦ *</span></span><br><span class=line>systemctl <span class=built_in>enable</span> vdo --now å¯åŠ¨ vdo æœåŠ¡ï¼Œå¹¶è®¾ç½®æˆå¼€æœºè‡ªå¯åŠ¨</span><br><span class=line>systemctl status vdo  <span class=comment># ä¸€å®šè¦ systemctl status vdo æŸ¥çœ‹ vdo æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œå› ä¸º vdo åˆ†åŒºä¾èµ– vdo æœåŠ¡ï¼Œå¦‚æœæœåŠ¡æ²¡æœ‰å¯åŠ¨ï¼Œæˆ–è€…å¼€æœºä¸èƒ½è‡ªå¯åŠ¨ï¼Œä¼šå½±å“ node2 ä¸»æœºé‡å¯ </span></span><br><span class=line>lsblk  <span class=comment># ä¸€å®šè¦ä½¿ç”¨ä¸€ä¸ªç©ºç™½ç£ç›˜ï¼Œåˆ›å»ºvdoåˆ†åŒº</span></span><br><span class=line>vdo create --name=vdough --device=/dev/vdc --vdoLogicalSize=50G  <span class=comment># åˆ›å»ºvdoåˆ†åŒº</span></span><br><span class=line>mkfs.xfs /dev/mapper/vdough  <span class=comment># åˆ†é…æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class=line><span class=built_in>mkdir</span> /vbread  <span class=comment># åˆ›å»ºæŒ‚è½½ç‚¹</span></span><br><span class=line>vim /etc/fstab  <span class=comment># å‘ /etc/fstab æ·»åŠ æŒ‚è½½æ¡ç›®ï¼Œæ ¹æ® man vdo æŸ¥è¯¢å…³é”®å­— x- ç›´æ¥å¤åˆ¶è¿™ä¸€æ®µ</span></span><br><span class=line>/dev/mapper/vdough /vbread xfs defaults,x-systemd.requires=vdo.service 0 0 </span><br><span class=line><span class=comment># è€ƒè¯•çš„æ—¶å€™ï¼Œvdo æŒ‚è½½æ¡ç›®ï¼ŒæŸ¥çœ‹ man vdo æ‰‹å†Œï¼Œå¤åˆ¶å‚æ•°ï¼Œå¹¶ä¿®æ”¹ã€‚ä¸è¦è‡ªå·±æ•²ï¼Œå®¹æ˜“æ•²é”™</span></span><br><span class=line>mount -a  <span class=comment># æ¿€æ´»</span></span><br><span class=line><span class=built_in>df</span> -TH  <span class=comment># éªŒè¯æŒ‚è½½ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><p>æŒ‚è½½çš„æ—¶å€™è¾“å…¥ man vdoå‘½ä»¤æŸ¥è¯¢æ‰‹å†Œ æœç´¢ x- å¤åˆ¶ä¸‹æ¥ä¿®æ”¹é…ç½®å‚æ•°å³å¯<img src=https://s1.ax1x.com/2022/04/16/LJw658.png alt=LJw658png></p><h3 id=ç³»ç»Ÿè°ƒä¼˜><a href=#ç³»ç»Ÿè°ƒä¼˜ class=headerlink title=ç³»ç»Ÿè°ƒä¼˜></a>ç³»ç»Ÿè°ƒä¼˜</h3><blockquote><p>ä¸ºä½ çš„ç³»ç»Ÿé€‰æ‹©å»ºè®®çš„ tuned é…ç½®é›†å¹¶å°†å®ƒè®¾ç½®ä¸ºé»˜è®¤è®¾ç½®</p></blockquote><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line>yum list tuned  <span class=comment># ä½¿ç”¨ yum ç¡®è®¤æ˜¯å¦å®‰è£…äº† tuned è½¯ä»¶åŒ…</span></span><br><span class=line>systemctl is-enabled tuned --now  <span class=comment># å¯åŠ¨å¹¶å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class=line>tuned-adm recommend  <span class=comment># æŸ¥çœ‹ç³»ç»Ÿæ¨èçš„ä¼˜åŒ–æ–¹æ¡ˆ</span></span><br><span class=line><span class=comment># virtual-guest</span></span><br><span class=line>tuned-adm profile virtual-guest  <span class=comment># å°†ç³»ç»Ÿæ–¹æ¡ˆè®¾ç½®ä¸ºç³»ç»Ÿæ¨èçš„ä¼˜åŒ–æ–¹æ¡ˆ</span></span><br><span class=line>tuned-adm active  <span class=comment># virtual-guest</span></span><br></pre></td></tr></table></figure></div><div class=post-copyright><div class=post-copyright-icon></div><div class=post-copyright-author><span class=post-copyright-meta>æ–‡ç« ä½œè€…: </span><span class=post-copyright-info><a href=mailto:hzhlovezy@gmail.com>Hanws(æ±‰æ–¯)</a></span></div><div class=post-copyright-type><span class=post-copyright-meta>æ–‡ç« é“¾æ¥: </span><span class=post-copyright-info><a href=https://www.hzh.best/2022/06/04/Redhat/ >https://www.hzh.best/2022/06/04/Redhat/</a></span></div><div class=post-copyright-notice><span class=post-copyright-meta>ç‰ˆæƒå£°æ˜: </span><span class=post-copyright-info>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0 </a>è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href=https://www.hzh.best/2022/06/04/Redhat/ target=_blank>Hanws&#39;s blog</a> ï¼</span></div></div><div class=pagination-post><a href=/2022/06/04/%E5%93%88%E5%93%88/ ><div class=prev-title><i class="fas fa-chevron-left"></i>å“ˆå“ˆğŸ‘‹ğŸ»</div><div class=prev-desc>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯HanwsğŸ˜‚,ä½ ä»¬å¯èƒ½æ˜¯é€šè¿‡æˆ‘çš„ç½‘å [è¢«é©´è¸¢è¿‡çš„è„‘è¢‹è¿˜å¥½ä½¿å—] è®¤è¯†æˆ‘çš„ï¼Œæˆ‘çš„ç‰¹ç‚¹æœ‰: ç†æƒ³ä¸»ä¹‰ æœ‰ç‚¹åŠªåŠ› ä¼šç‚¹æŠ€æœ¯ æ¥å—è¿‡ä¹‰åŠ¡æ•™è‚²çš„ä¹‰åŠ¡æ•™è‚²æ¼ç½‘ä¹‹é±¼ LSP è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¼€...</div></a><a href=/2022/06/04/Linux%E5%85%A5%E9%97%A8/ ><div class=next-title>Linux<i class="fas fa-chevron-right"></i></div><div class=next-desc>Linuxå…¥é—¨å‰è¨€Linux æ˜¯ä¸€ç§è‡ªç”±å’Œå¼€æ”¾æºç çš„ç±» UNIX æ“ä½œç³»ç»Ÿã€‚å…¶å†…æ ¸ç”±æ—çº³æ–¯Â·æœ¬çº³ç¬¬å…‹ç‰¹Â·æ‰˜ç“¦å…¹äº1991å¹´10æœˆ5æ—¥é¦–æ¬¡å‘å¸ƒã€‚æœ¬æ•™ç¨‹,æˆ‘å°†ä¸ºå¤§å®¶ä»‹ç»å¦‚ä½•ä½¿ç”¨Linuxã€‚Linux...</div></a></div></article><div id=toc-wrap><div id=toc><div class=toc-title><div>ç›®å½• <span class=num>0%</span></div><progress class=progress value=0 max=100></progress></div><div class=toc-list><ol class=toc><li class="toc-item toc-level-1"><a class=toc-link href=#RHCSA%E8%80%83%E8%AF%95><span class=toc-text>RHCSAè€ƒè¯•</span></a></li><li class="toc-item toc-level-1"><a class=toc-link href=#%E5%9C%A8node1-net2-example-com-%E4%B8%8A%E5%81%9A%E9%A2%98><span class=toc-text>åœ¨node1.net2.example.com ä¸Šåšé¢˜</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AEnode1%E4%B8%BB%E6%9C%BA%E4%BF%A1%E6%81%AF%EF%BC%8C%E4%BD%BF%E5%85%B6%E5%85%B7%E6%9C%89%E4%BB%A5%E4%B8%8B%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%EF%BC%9A><span class=toc-text>é…ç½®node1ä¸»æœºä¿¡æ¯ï¼Œä½¿å…¶å…·æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E4%BB%A5%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E5%BA%93><span class=toc-text>é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%B0%83%E8%AF%95-SELinux><span class=toc-text>è°ƒè¯• SELinux</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7%E5%92%8C%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7><span class=toc-text>åˆ›å»ºç”¨æˆ·è´¦æˆ·å’Œé…ç½®ç”¨æˆ·è´¦æˆ·</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE-cron-%E4%BD%9C%E4%B8%9A><span class=toc-text>é…ç½® cron ä½œä¸š</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E5%8D%8F%E4%BD%9C%E7%9B%AE%E5%BD%95><span class=toc-text>åˆ›å»ºåä½œç›®å½•</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AENTP-%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5><span class=toc-text>é…ç½®NTP æ—¶é—´åŒæ­¥</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE-autofs><span class=toc-text>é…ç½® autofs</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90><span class=toc-text>é…ç½®æ–‡ä»¶æƒé™</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%B8%90%E6%88%B7><span class=toc-text>é…ç½®ç”¨æˆ·å¸æˆ·</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6><span class=toc-text>æŸ¥æ‰¾æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=toc-text>æŸ¥æ‰¾å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E5%AD%98%E6%A1%A3><span class=toc-text>åˆ›å»ºå­˜æ¡£</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5-%E6%9C%89%E6%95%88%E6%9C%9F><span class=toc-text>è®¾ç½®å¯†ç ç­–ç•¥(æœ‰æ•ˆæœŸ)</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E7%BB%84%E7%89%B9%E6%9D%83%EF%BC%88sudo%EF%BC%89><span class=toc-text>é…ç½®ç»„ç‰¹æƒï¼ˆsudoï¼‰</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class=toc-link href=#%E5%9C%A8node2-net2-example-com-%E4%B8%8A%E5%81%9A%E9%A2%98><span class=toc-text>åœ¨node2.net2.example.com ä¸Šåšé¢˜</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AE%BE%E7%BD%AE-root-%E5%AF%86%E7%A0%81><span class=toc-text>è®¾ç½® root å¯†ç </span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E4%BB%A5%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E5%BA%93-1><span class=toc-text>é…ç½®ä½ çš„ç³»ç»Ÿä»¥ä½¿ç”¨é»˜è®¤å­˜å‚¨åº“</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%B0%83%E6%95%B4%E9%80%BB%E8%BE%91%E5%8D%B7%E5%A4%A7%E5%B0%8F><span class=toc-text>è°ƒæ•´é€»è¾‘å·å¤§å°</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%A3%81%E7%9B%98%E9%83%A8%E5%88%86><span class=toc-text>ç£ç›˜éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%B7%BB%E5%8A%A0%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA><span class=toc-text>æ·»åŠ äº¤æ¢åˆ†åŒº</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E9%80%BB%E8%BE%91%E5%8D%B7><span class=toc-text>åˆ›å»ºé€»è¾‘å·</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#VDO-%E5%AD%98%E5%82%A8><span class=toc-text>VDO å­˜å‚¨</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98><span class=toc-text>ç³»ç»Ÿè°ƒä¼˜</span></a></li></ol></li></div></div></div></main><section id=rightside><div class=rightside-item><a id=open-toc title=ç›®å½•><i class="fas fa-list-ul"></i> </a><a href=javascript:void(0); id=darkmode title="æ·±è‰²/æµ…è‰² "><i class="fas fa-moon"></i> </a><a href=# title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up"></i></a></div></section><footer class=footer id=footer><div class=copyright>&copy; 2020 - 2022 <i class="fas fa-fan"></i> Hanwsæ±‰æ–¯</div><div class=framework-info><span>æ¡†æ¶</span> <a href=https://hexo.io target=_blank>Hexo</a> <span class=footer-separator>|</span> <span>ä¸»é¢˜ </span><a href=https://github.com/lete114/hexo-theme-MengD target=_blank>MengD.(èŒå…¸)</a></div><div class=custom-text>æˆ‘ç›¸ä¿¡æˆ‘å¯ä»¥ï¼Œä½†æˆ‘ä¸€ç›´åœ¨è·¯ä¸Šï¼Œæ‰€ä»¥æˆ‘æœ‰æ— é™çš„å¯èƒ½ï¼ï¼</div></footer></div><div id=mask onclick=closeAll()></div><div id=local-search><div id=local-search-title>æœ¬åœ°æœç´¢</div><input id=local-search-input autocomplete=off placeholder=æœç´¢æ–‡ç«  type=text><hr><div id=local-search-result></div><span class=search-close-button><i class="fas fa-times"></i></span></div><script src=/js/search.js></script><div class=script><script src=/js/main.js></script><script src=/js/lazyload.js></script><script>function LoadPjax(){window.pjax=new Pjax({selectors:["head title",'head meta[name="keywords"]','head meta[name="description"]',"main","#rightside"],cacheBust:!1})}getScript("https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js",LoadPjax);var timer=null;function ProgressStart(){var e="pjax-progress",t=$query("."+e),a=10;t||((t=document.createElement("div")).className=e,document.body.prepend(t));clearInterval(timer),timer=setInterval(function(){var e=parseInt(7*Math.random());95<(a+=e+3)&&(a=95),t.style.width=a+"%"},500)}function ProgressFinish(){clearInterval(timer);var e=$query(".pjax-progress");e.style.width="100%",timer=setTimeout(function(){e.parentNode.removeChild(e)},700)}document.addEventListener("pjax:send",function(){ProgressStart()}),document.addEventListener("pjax:complete",function(){ProgressFinish(),exeAllFn(),ImgLazyLoad("body img[data-img]","data-img"),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)})}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div></body></html>